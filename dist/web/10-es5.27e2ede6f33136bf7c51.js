function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,l=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(l,arguments,i)}else n=l.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"8jwQ":function(e,t,n){"use strict";var l=n("8Y7J"),i=n("gpq3"),r=n("moEV"),o=n("s7LF"),a=n("jtlh"),s=n("j+Xl"),u=n("SVse");n("V9lG"),n("OlR4"),n("QmtP"),n("l8AK"),n("iInd"),n("IheW"),n("sXtk"),n("eI1S"),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return h}));var c=l["\u0275crt"]({encapsulation:0,styles:[[".h-400[_ngcontent-%COMP%]{height:349px}"]],data:{}});function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","seType"]],null,null,null,i.b,i.a)),l["\u0275did"](1,114688,null,0,r.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.validationService.getFormControlValidationErrors(n.seForm,n.formKeyLabels),"seType")}),null)}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","seCategory"]],null,null,null,i.b,i.a)),l["\u0275did"](1,114688,null,0,r.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.validationService.getFormControlValidationErrors(n.seForm,n.formKeyLabels),"seCategory")}),null)}function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","seEntity"]],null,null,null,i.b,i.a)),l["\u0275did"](1,114688,null,0,r.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.validationService.getFormControlValidationErrors(n.seForm,n.formKeyLabels),"seEntity")}),null)}function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,50,"form",[["autocomplete","off"],["class","pt-4 h-400"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l["\u0275nov"](e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==l["\u0275nov"](e,2).onReset()&&i),i}),null,null)),l["\u0275did"](1,16384,null,0,o["\u0275angular_packages_forms_forms_z"],[],null,null),l["\u0275did"](2,540672,null,0,o.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,o.ControlContainer,null,[o.FormGroupDirective]),l["\u0275did"](4,16384,null,0,o.NgControlStatusGroup,[[4,o.ControlContainer]],null,null),(e()(),l["\u0275eld"](5,0,null,null,45,"div",[["class","row justify-content-start"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,14,"div",[["class","col-md-6 col-xl-6 mb-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,13,"div",[["class","form-group mb-0"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,1,"label",[["class","labelStyle required"],["for","compSrc"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["SE Type"])),(e()(),l["\u0275eld"](10,0,null,null,8,"roots-multiSelect",[["formControlName","seType"],["maxSelectedLabels","2"],["optionLabel","name"],["placeholder","Select"],["resetFilterOnHide","false"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onPanelHide"]],(function(e,t,n){var l=!0;return"onPanelHide"===t&&(l=!1!==e.component.getSeCategoryBySeTypeData(n)&&l),l}),a.b,a.a)),l["\u0275did"](11,13877248,null,3,s.MultiSelect,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef],{maxSelectedLabels:[0,"maxSelectedLabels"],resetFilterOnHide:[1,"resetFilterOnHide"],optionLabel:[2,"optionLabel"],options:[3,"options"]},{onPanelHide:"onPanelHide"}),l["\u0275qud"](603979776,1,{footerFacet:0}),l["\u0275qud"](603979776,2,{headerFacet:0}),l["\u0275qud"](603979776,3,{templates:1}),l["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,(function(e){return[e]}),[s.MultiSelect]),l["\u0275did"](16,671744,null,0,o.FormControlName,[[3,o.ControlContainer],[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlName]),l["\u0275did"](18,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,d)),l["\u0275did"](20,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](21,0,null,null,14,"div",[["class","col-md-6 col-xl-6 mb-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](22,0,null,null,13,"div",[["class","form-group mb-0"]],null,null,null,null,null)),(e()(),l["\u0275eld"](23,0,null,null,1,"label",[["class","labelStyle required"],["for","compSrc"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["SE Category"])),(e()(),l["\u0275eld"](25,0,null,null,8,"roots-multiSelect",[["formControlName","seCategory"],["maxSelectedLabels","2"],["optionLabel","name"],["placeholder","Select"],["resetFilterOnHide","false"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onPanelHide"]],(function(e,t,n){var l=!0;return"onPanelHide"===t&&(l=!1!==e.component.getSeDataByCategory(n)&&l),l}),a.b,a.a)),l["\u0275did"](26,13877248,null,3,s.MultiSelect,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef],{maxSelectedLabels:[0,"maxSelectedLabels"],resetFilterOnHide:[1,"resetFilterOnHide"],optionLabel:[2,"optionLabel"],options:[3,"options"]},{onPanelHide:"onPanelHide"}),l["\u0275qud"](603979776,4,{footerFacet:0}),l["\u0275qud"](603979776,5,{headerFacet:0}),l["\u0275qud"](603979776,6,{templates:1}),l["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,(function(e){return[e]}),[s.MultiSelect]),l["\u0275did"](31,671744,null,0,o.FormControlName,[[3,o.ControlContainer],[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlName]),l["\u0275did"](33,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](35,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](36,0,null,null,14,"div",[["class","col-md-6 col-xl-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](37,0,null,null,13,"div",[["class","form-group mb-0"]],null,null,null,null,null)),(e()(),l["\u0275eld"](38,0,null,null,1,"label",[["class","labelStyle required"],["for","compSrc"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["SE Names"])),(e()(),l["\u0275eld"](40,0,null,null,8,"roots-multiSelect",[["formControlName","seEntity"],["maxSelectedLabels","2"],["optionLabel","name"],["placeholder","Select"],["resetFilterOnHide","false"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,a.b,a.a)),l["\u0275did"](41,13877248,null,3,s.MultiSelect,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef],{maxSelectedLabels:[0,"maxSelectedLabels"],resetFilterOnHide:[1,"resetFilterOnHide"],optionLabel:[2,"optionLabel"],options:[3,"options"]},null),l["\u0275qud"](603979776,7,{footerFacet:0}),l["\u0275qud"](603979776,8,{headerFacet:0}),l["\u0275qud"](603979776,9,{templates:1}),l["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,(function(e){return[e]}),[s.MultiSelect]),l["\u0275did"](46,671744,null,0,o.FormControlName,[[3,o.ControlContainer],[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlName]),l["\u0275did"](48,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](50,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](51,0,null,null,6,"div",[["class","text-right pb-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](52,0,null,null,1,"button",[["class","btn btn-secondry"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDailouge()&&l),l}),null,null)),(e()(),l["\u0275ted"](-1,null,["Cancel"])),(e()(),l["\u0275eld"](54,0,null,null,1,"button",[["class","btn-secondary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.resetFilter(n)&&l),l}),null,null)),(e()(),l["\u0275ted"](-1,null,["Reset"])),(e()(),l["\u0275eld"](56,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.applyDailogeFn()&&l),l}),null,null)),(e()(),l["\u0275ted"](-1,null,["Apply"]))],(function(e,t){var n=t.component;e(t,2,0,n.seForm),e(t,11,0,"2","false","name",n.seTypeOption),e(t,16,0,"seType"),e(t,20,0,n.validationService.checkFieldTouched(n.seForm,"seType")),e(t,26,0,"2","false","name",n.seCategooryOption),e(t,31,0,"seCategory"),e(t,35,0,n.validationService.checkFieldTouched(n.seForm,"seCategory")),e(t,41,0,"2","false","name",n.seEntityOption),e(t,46,0,"seEntity"),e(t,50,0,n.validationService.checkFieldTouched(n.seForm,"seEntity"))}),(function(e,t){e(t,0,0,l["\u0275nov"](t,4).ngClassUntouched,l["\u0275nov"](t,4).ngClassTouched,l["\u0275nov"](t,4).ngClassPristine,l["\u0275nov"](t,4).ngClassDirty,l["\u0275nov"](t,4).ngClassValid,l["\u0275nov"](t,4).ngClassInvalid,l["\u0275nov"](t,4).ngClassPending),e(t,10,0,l["\u0275nov"](t,11).filled,l["\u0275nov"](t,11).focus,l["\u0275nov"](t,18).ngClassUntouched,l["\u0275nov"](t,18).ngClassTouched,l["\u0275nov"](t,18).ngClassPristine,l["\u0275nov"](t,18).ngClassDirty,l["\u0275nov"](t,18).ngClassValid,l["\u0275nov"](t,18).ngClassInvalid,l["\u0275nov"](t,18).ngClassPending),e(t,25,0,l["\u0275nov"](t,26).filled,l["\u0275nov"](t,26).focus,l["\u0275nov"](t,33).ngClassUntouched,l["\u0275nov"](t,33).ngClassTouched,l["\u0275nov"](t,33).ngClassPristine,l["\u0275nov"](t,33).ngClassDirty,l["\u0275nov"](t,33).ngClassValid,l["\u0275nov"](t,33).ngClassInvalid,l["\u0275nov"](t,33).ngClassPending),e(t,40,0,l["\u0275nov"](t,41).filled,l["\u0275nov"](t,41).focus,l["\u0275nov"](t,48).ngClassUntouched,l["\u0275nov"](t,48).ngClassTouched,l["\u0275nov"](t,48).ngClassPristine,l["\u0275nov"](t,48).ngClassDirty,l["\u0275nov"](t,48).ngClassValid,l["\u0275nov"](t,48).ngClassInvalid,l["\u0275nov"](t,48).ngClassPending)}))}},V9lG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var l=n("8Y7J"),i=n("s7LF"),r=n("ra3Q");n("QmtP");var o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,a,s,u,c){var d;return _classCallCheck(this,n),(d=t.call(this,i,s)).fb=e,d.commonService=i,d.validationService=r,d.messageService=o,d.router=a,d.http=s,d.env=u,d.incidentCommonService=c,d.sendFilterList=new l.EventEmitter,d.closeEvent=new l.EventEmitter,d.seTypeOption=[],d.seCategooryOption=[],d.seEntityOption=[],d.formKeyLabels=[{label:"seType",name:"SE Type",verb:"is",key:"seType"},{label:"seCategory",name:"SE Category",verb:"is",key:"seCategory"},{label:"seEntity",name:"SE Names",verb:"is",key:"seEntity"}],d}return _createClass(n,[{key:"ngOnInit",value:function(){this.createSeForm(),this.getSeTypeData()}},{key:"createSeForm",value:function(){this.seForm=this.fb.group({seType:new i.FormControl("",[i.Validators.required]),seCategory:new i.FormControl("",[i.Validators.required]),seEntity:new i.FormControl("",[i.Validators.required])})}},{key:"resetFilter",value:function(e){this.createSeForm()}},{key:"getSeTypeData",value:function(){var e=this;this.incidentCommonService.getSeTypeData().subscribe((function(t){e.seTypeOption=t,e.seCategooryOption=[],e.seEntityOption=[]}),(function(e){return!1}))}},{key:"getSeCategoryBySeTypeData",value:function(e){var t=this;if(this.seForm.value.seType){for(var n=[],l=0;l<this.seForm.value.seType.length;l++)n.push(this.seForm.value.seType[l].id);this.incidentCommonService.getSeCategoryBySeTypeData(n).subscribe((function(e){t.seCategooryOption=e,t.seEntityOption=[]}),(function(e){return!1}))}}},{key:"getSeDataByCategory",value:function(e){var t=this;if(this.seForm.value.seCategory){for(var n=[],l=0;l<this.seForm.value.seCategory.length;l++)n.push(this.seForm.value.seCategory[l].id);this.incidentCommonService.getSeDataByCategory(n).subscribe((function(e){t.seEntityOption=e}),(function(e){return!1}))}}},{key:"applyDailogeFn",value:function(){if(this.seForm.valid){var e=[];if(this.seForm.value.seEntity)for(var t=0;t<this.seForm.value.seEntity.length;t++)e.push(this.seForm.value.seEntity[t].id);this.sendFilterList.emit(e)}else this.messageService.clear(),this.validationService.markFormGroupTouched(this.seForm),this.validationService.scrollIfFormHasErrors(this.seForm)}},{key:"closeDailouge",value:function(){this.seForm.reset(),this.closeEvent.emit(!0)}}]),n}(r.a)},eI1S:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n("XNiG"),i=n("eIep"),r=n("8Y7J"),o=n("iInd"),a=n("IheW"),s=n("sXtk"),u=n("OlR4"),c=function(){var e=function(){function e(t,n,i,r){_classCallCheck(this,e),this.router=t,this.http=n,this.env=i,this.commonService=r,this.subject=new l.a,this.minDate=(new Date).getFullYear()-99,this.maxDate=(new Date).getFullYear()+101,this.yearRange=this.minDate+":"+this.maxDate,this.securityApiUrl=i.securityApiBaseUrl,this.incidentBaseUrl=i.incidentUrl}return _createClass(e,[{key:"getSystemInfraEffectedData",value:function(){return this.http.get(this.incidentBaseUrl+"/api/setup/systemsaffected")}},{key:"getIncidentLocations",value:function(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentlocation")}},{key:"getIncidentdetectedData",value:function(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentdetected")}},{key:"saveOrUpdateIncident",value:function(e,t){var n="";return"NEW_DRAFT"==t||"DRAFT"==t?n="saveincident":"NEW_PENDING_FOR_APPROVAL"!=t&&"PENDING_FOR_APPROVAL"!=t||(n="submitincident"),this.http.post(this.incidentBaseUrl+"/api/incidents/"+n,e)}},{key:"csiteMakerUpdateIncident",value:function(e,t){var n;return n="NEW_DRAFT_BY_CSITE"==t?"savecsiteincident":"submitcsiteincident",this.http.post(this.incidentBaseUrl+"/api/incidents/csitemaker/"+n,e)}},{key:"saveIncidentFile",value:function(e,t){return this.http.post(this.incidentBaseUrl+"/api/incidents/uploadFiles"+e,t)}},{key:"getIncidentStatusList",value:function(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentstatus")}},{key:"getIncidentTypesList",value:function(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentType")}},{key:"getIncidentReportTypesList",value:function(){return this.http.get(this.incidentBaseUrl+"/api/setup/reportTypes")}},{key:"getThreatVectotrList",value:function(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentThreadvector")}},{key:"getSeTypeData",value:function(){return this.http.get(this.incidentBaseUrl+"/api/setup/regulatedEntityType")}},{key:"getSeCategoryBySeTypeData",value:function(e){return this.http.get(this.incidentBaseUrl+"/api/setup/regulatedEntityCategoryByType?reTypeIds="+e)}},{key:"getSeDataByCategory",value:function(e){return this.http.get(this.incidentBaseUrl+"/api/setup/regulatedEntityOptions?categoryTypeIds="+e)}},{key:"getBroadVulnerabilityList",value:function(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentBroadvulnerability")}},{key:"getIncidentAssesmentTypesList",value:function(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentAssessmentType")}},{key:"saveOrUpdateCsiteIncident",value:function(e){return this.http.post(this.incidentBaseUrl+"/api/incidents/csitemaker/updateIncident",e)}},{key:"getCsiteBankSummeryData",value:function(e){return this.http.get(this.incidentBaseUrl+"/api/incidents/incident/"+e)}},{key:"fetchIncidentDetails",value:function(e){var t=this;return this.commonService.getEncryptValue(e).pipe(Object(i.a)((function(e){return t.http.get(t.incidentBaseUrl+"/api/incidents/incident/"+e)})))}},{key:"saveComments",value:function(e){return this.http.post(this.incidentBaseUrl+"/api/incidents/csitemaker/invalidIncident",e)}},{key:"updateIncidentStatus",value:function(e){return this.http.put(this.incidentBaseUrl+"/api/incidents/approverejectincident",e)}},{key:"submitFeedBack",value:function(e){return this.http.post(this.incidentBaseUrl+"/api/rebit/submitFeedBack",e)}},{key:"downloadIncidentAttach",value:function(e,t){this.downloadFile(this.incidentBaseUrl+"/api/incidents/"+e,t)}},{key:"downloadFile",value:function(e,t){fetch(e,{headers:{Authorization:sessionStorage.getItem("tokenType")+" "+sessionStorage.getItem("token")}}).then((function(e){return console.log(e),e.blob().then((function(e){if(console.log(e),"application/pdf"==e.type){var n=new Blob([e],{type:"application/pdf"}),l=window.URL.createObjectURL(n);window.open(l)}else{var i=document.createElement("a");i.href=URL.createObjectURL(e),i.setAttribute("download",t),i.click()}}))}))}},{key:"getIncidentCanApprove",value:function(e){var t=this;return this.commonService.getEncryptValue(e).pipe(Object(i.a)((function(e){return t.http.get(t.incidentBaseUrl+"/api/my-workqueue/canApprove?incidentId="+e)})))}},{key:"getIncidentModifiedFields",value:function(e){var t=this;return this.commonService.getEncryptValue(e).pipe(Object(i.a)((function(e){return t.http.get(t.incidentBaseUrl+"/api/incidents/csitemaker/displayModifiedfield/"+e)})))}},{key:"searchIncidentData",value:function(e){var t=this.commonService.constructQueryParams(e);return console.log(t),this.http.get(this.incidentBaseUrl+"/api/search?"+t)}},{key:"getStatusVsSeverity",value:function(e){var t=this.constructQueryParams(e);return this.http.get(this.incidentBaseUrl+"/api/incidentGraph/statusVsSeverity?"+t)}},{key:"getIncidentTypeVsIncidentCount",value:function(e){var t=this.constructQueryParams(e);return this.http.get(this.incidentBaseUrl+"/api/incidentGraph/incidentTypeVsIncidentCount?"+t)}},{key:"getThreatVectorCategoryVsIncidentCount",value:function(e){var t=this.constructQueryParams(e);return this.http.get(this.incidentBaseUrl+"/api/incidentGraph/threatVectorCategoryVsIncidentCount?"+t)}},{key:"getStatusofIncidentSeVsSeverity",value:function(e){var t=this.constructQueryParams(e);return this.http.get(this.incidentBaseUrl+"/api/incidentGraph/statusofIncidentSeVsSeverity?"+t)}},{key:"getClarificationsStatusVsIncidentcount",value:function(){return this.http.get(this.incidentBaseUrl+"/api/incidentGraph/clarificationsStatusVsIncidentcount")}},{key:"constructQueryParams",value:function(e){console.log(e);var t=Object.keys(e).map((function(t){return t+"="+(null==e[t]?"":e[t])})).join("&");return console.log(t),t}},{key:"generateReport",value:function(e){var t=this.constructQueryParams(e);this.printReport(this.incidentBaseUrl+"/api/setup/searchReport/charts?"+t,"chart.pdf")}},{key:"download",value:function(e,t){fetch(e,{headers:{Authorization:sessionStorage.getItem("tokenType")+" "+sessionStorage.getItem("token")}}).then((function(e){return e.blob().then((function(e){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob("download",t);else{var n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.setAttribute("download",t),n.click()}}))}))}},{key:"printReport",value:function(e,t){fetch(e,{headers:{Authorization:sessionStorage.getItem("tokenType")+" "+sessionStorage.getItem("token")}}).then((function(e){return e.blob().then((function(e){if("application/pdf"==e.type){var n=new Blob([e],{type:"application/pdf"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,t);else{var l=window.URL.createObjectURL(n);window.open(l)}}else if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob("download",t);else{var i=document.createElement("a");i.href=window.URL.createObjectURL(e),i.setAttribute("download",t),i.click()}}))}))}}]),e}();return e.ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new e(r["\u0275\u0275inject"](o.Router),r["\u0275\u0275inject"](a.HttpClient),r["\u0275\u0275inject"](s.a),r["\u0275\u0275inject"](u.a))},token:e,providedIn:"root"}),e}()},sa4S:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var l=n("8Y7J"),i=function(){function e(t){_classCallCheck(this,e),this.el=t,this.spiedTags=[],this.sectionChange=new l.EventEmitter}return _createClass(e,[{key:"onScroll",value:function(e){for(var t,n=this,l=this.el.nativeElement.children,i=e.target.scrollTop,r=e.target.offsetTop,o=function(e){var o=l[e];n.spiedTags.some((function(e){return e===o.tagName}))&&o.offsetTop-r<=i&&(t=o.id)},a=0;a<l.length;a++)o(a);t!==this.currentSection&&(this.currentSection=t,this.sectionChange.emit(this.currentSection))}}]),e}()}}]);