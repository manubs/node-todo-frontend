(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{mRxL:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class i{}var u=e("pMnS"),a=e("SVse"),o=e("iInd"),s=e("cg3Z"),r=e("APW9"),d=e("iDi3"),c=e("bY5i"),p=e("gGmi"),m=e("/Nt3"),h=e("s7LF"),g=e("dBGZ"),v=e("OQy0");class f{constructor(l,n,e,t){this.route=l,this.router=n,this.commonService=e,this.messageService=t,this.tabMenu=[],this.route.data.subscribe(l=>{this.bankDetail=l.bankDetail,this.approvalStatus=l.bankDetail.approvalStatus,this.re=l.bankDetail.id,"Pending for Approval"===this.approvalStatus&&(this.loadUserPrivilege("RE_APPROVE"),this.getCanApprove())}),this.navigateFrom=JSON.parse(sessionStorage.getItem("navigateFrom")),this.tabMenu=[{title:"Supervised Entity Information",string:"bankinfo",routePath:"bankinfo"},{title:"Members",string:"members",routePath:"members"},{title:"Applications",string:"applications",routePath:"applications"},{title:"Databases",string:"databases",routePath:"databases"}]}ngOnInit(){this.pattern=/^$|^[A-Za-z0-9._,-]+(?: [A-Za-z0-9._,-]+)*$/,this.breadcrumb=[{label:"Supervised Entities",url:"/ICMTS/portal/#/home/admin/banks"},{label:"Edit"}],this.formType="Edit Supervised Entity  -  "+this.bankDetail.code}back(){"SEARCH"==this.navigateFrom?this.router.navigateByUrl("/home/admin/banks"):"WORK_QUEUE"==this.navigateFrom&&this.router.navigateByUrl("/home/viewnotify/mynotificationqueue")}Approve(){this.approveVisible=!0}reject(){this.rejectVisible=!0,this.showError=!1}approveApplication(l){"No"===l?this.approveVisible=!1:(this.approveVisible=!1,this.action="APPROVED",this.approveRE())}rejectApplication(l){"No"===l?this.rejectVisible=!1:this.commentsVal?(this.showError=!1,this.action="REJECTED",this.comments=this.commentsVal,this.rejectVisible=!1,this.approveRE()):this.showError=!0}loadUserPrivilege(l){return this.commonService.getUserPrivilege({moduleCode:l}).subscribe(l=>{if(l&&!0===l.success)return this.userPrivilege=l.data||[],this.visible=this.checkModuleAccess("Execute"),!0},l=>(console.log("Error",l),!1)),!0}checkModuleAccess(l,n=""){var e=!1;return this.userPrivilege||(e=!1),this.userPrivilege&&this.userPrivilege.forEach(n=>{n.availablePermissionName==l&&null!=n.permissionId&&(e=!0)}),e}approveRE(){this.commonService.approveRE(this.re,{action:this.action,comments:this.comments}).subscribe(l=>{var n;this.messageService.clear(),n=this.comments?"Supervised Entity Successfully Rejected":"Supervised Entity Successfully Approved",this.messageService.clear(),this.messageService.add({severity:"success",sticky:!0,summary:"",detail:n}),this.back()},l=>{})}getCanApprove(){this.commonService.getCanApprove(this.re,"RE_APPROVE").subscribe(l=>{this.canApprove=l.data,this.canApprove=1==this.canApprove},l=>{})}showDialogue(){this.displayConfirmation=!0}navigateToDocType(){this.commonService.back()}removeDialogue(){this.displayConfirmation=!1}}var b=e("OlR4"),C=e("l8AK"),y=t["\u0275crt"]({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{max-width:100%}.tab-container[_ngcontent-%COMP%]{height:auto;background:#fff;padding-top:22px;padding-left:24px;padding-right:24px}.p-15[_ngcontent-%COMP%]{padding:15px}.b-BGcolor[_ngcontent-%COMP%]{background-color:#205db1}.w-color[_ngcontent-%COMP%]{color:#fff}.cur-poi[_ngcontent-%COMP%]{cursor:pointer}.w-90[_ngcontent-%COMP%]{width:90%}@media screen and (max-width:575px){.btn-primary.w-90[_ngcontent-%COMP%]{margin-top:10px!important}.btn-primary.w-90[_ngcontent-%COMP%], .btn-secondary.w-90[_ngcontent-%COMP%]{width:96%!important}}.splitter[_ngcontent-%COMP%]{border-bottom:1px solid #e3e3e3;padding-bottom:10px}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-bottom:3px solid #205db1;cursor:pointer}.active[_ngcontent-%COMP%]{border-bottom:3px solid #205db1;font-weight:700}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;background-color:transparent}.nav-link[_ngcontent-%COMP%]{padding-left:30px!important;padding-right:30px!important}  .edicustHeader{margin-top:4px}"]],data:{}});function S(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"li",[["class","nav-item p-40"]],null,null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{active:0}),(l()(),t["\u0275eld"](4,0,null,null,5,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](l,5).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&i),i}),null,null)),t["\u0275did"](5,671744,[[2,4]],0,o.RouterLinkWithHref,[o.Router,o.ActivatedRoute,a.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["\u0275did"](6,1720320,null,2,o.RouterLinkActive,[o.Router,t.ElementRef,t.Renderer2,[2,o.RouterLink],[2,o.RouterLinkWithHref]],{routerLinkActive:[0,"routerLinkActive"]},null),t["\u0275qud"](603979776,1,{links:1}),t["\u0275qud"](603979776,2,{linksWithHrefs:1}),(l()(),t["\u0275ted"](9,null,["",""]))],(function(l,n){var e=l(n,3,0,n.component.selectedItem==n.context.$implicit.string);l(n,2,0,"nav-item p-40",e),l(n,5,0,t["\u0275inlineInterpolate"](1,"",n.context.$implicit.routePath,"")),l(n,6,0,"active")}),(function(l,n){l(n,4,0,t["\u0275nov"](n,5).target,t["\u0275nov"](n,5).href),l(n,9,0,n.context.$implicit.title)}))}function k(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","col-md-12 container-fluid pb-2 pt-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn-approved float-right"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.Approve()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Approve"])),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn-primary bg-danger float-right"],["style","border-color: #dc3545 !important"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reject()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Reject"]))],null,null)}function I(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Comments required"]))],null,null)}function R(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","container-fluid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,9,"div",[["class","pageHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,8,"div",[["class","row align-items-center h-100 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,3,"div",[["class","col-md-12 col-lg-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","clearfix breadCrumb"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"app-breadcrumb",[],null,null,null,s.b,s.a)),t["\u0275did"](6,638976,null,0,r.a,[o.Router],{breadCrumb:[0,"breadCrumb"]},null),(l()(),t["\u0275eld"](7,0,null,null,3,"div",[["class","col-md-12 col-lg-6 mt-lg-0 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,2,"span",[["class","btn-back"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.back()&&t),t}),null,null)),(l()(),t["\u0275eld"](9,0,null,null,0,"i",[["class","fas fa-chevron-left pr-1"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Back "])),(l()(),t["\u0275eld"](11,0,null,null,15,"div",[["class","container pl-4 pr-4 mb-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,14,"div",[["class","tab-container row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,4,"div",[["class","col-md-12 float-left splitter f-s-18"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t["\u0275ted"](15,null,["",""])),(l()(),t["\u0275eld"](16,0,null,null,1,"span",[["class","status_blue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](17,null,["",""])),(l()(),t["\u0275eld"](18,0,null,null,3,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,2,"ul",[["class","nav tabStyle border-bottom"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](21,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](22,0,null,null,2,"div",[["class","col-12 container-fluid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](24,212992,null,0,o.RouterOutlet,[o.ChildrenOutletContexts,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,k)),t["\u0275did"](26,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](27,0,null,null,12,"roots-dialog",[["header","Approve Confirmation"]],null,[[null,"visibleChange"]],(function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.approveVisible=e)&&t),t}),d.b,d.a)),t["\u0275did"](28,180224,null,2,c.Dialog,[t.ElementRef,t.Renderer2,t.NgZone],{visible:[0,"visible"],header:[1,"header"],modal:[2,"modal"],responsive:[3,"responsive"],style:[4,"style"],baseZIndex:[5,"baseZIndex"]},{visibleChange:"visibleChange"}),t["\u0275qud"](603979776,3,{headerFacet:1}),t["\u0275qud"](603979776,4,{footerFacet:1}),t["\u0275pod"](31,{width:0,minWidth:1}),(l()(),t["\u0275eld"](32,0,null,1,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Do you want to approve?"])),(l()(),t["\u0275eld"](34,0,null,2,5,"roots-footer",[],null,null,null,p.c,p.a)),t["\u0275did"](35,49152,[[4,4]],0,m.Footer,[],null,null),(l()(),t["\u0275eld"](36,0,null,0,1,"button",[["class","btn-secondary"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.approveApplication("No")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Cancel"])),(l()(),t["\u0275eld"](38,0,null,0,1,"button",[["class","btn-primary"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.approveApplication("Ok")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Ok"])),(l()(),t["\u0275eld"](40,0,null,null,28,"roots-dialog",[["header","Reject Confirmation"]],null,[[null,"visibleChange"]],(function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.rejectVisible=e)&&t),t}),d.b,d.a)),t["\u0275did"](41,180224,null,2,c.Dialog,[t.ElementRef,t.Renderer2,t.NgZone],{visible:[0,"visible"],header:[1,"header"],modal:[2,"modal"],responsive:[3,"responsive"],baseZIndex:[4,"baseZIndex"]},{visibleChange:"visibleChange"}),t["\u0275qud"](603979776,5,{headerFacet:1}),t["\u0275qud"](603979776,6,{footerFacet:1}),(l()(),t["\u0275eld"](44,0,null,1,18,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](45,0,null,null,17,"div",[["class","col-md-12 mb-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,3,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Comments "])),(l()(),t["\u0275eld"](48,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["*"])),(l()(),t["\u0275eld"](50,0,null,null,10,"textarea",[["class","w-100"],["maxlength","100"],["roots-InputTextarea",""]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-inputtextarea-resizable",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"],[null,"paste"],[null,"focus"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,51)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,51).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,51)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,51)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,53).onInput(e)&&i),"keypress"===n&&(i=!1!==t["\u0275nov"](l,53).onKeyPress(e)&&i),"paste"===n&&(i=!1!==t["\u0275nov"](l,53).onPaste(e)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,59).onInput(e)&&i),"focus"===n&&(i=!1!==t["\u0275nov"](l,59).onFocus(e)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,59).onBlur(e)&&i),"ngModelChange"===n&&(i=!1!==(u.commentsVal=e)&&i),i}),null,null)),t["\u0275did"](51,16384,null,0,h.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](52,540672,null,0,h.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275did"](53,16384,null,0,g.KeyFilter,[t.ElementRef],{pattern:[0,"pattern"]},{ngModelChange:"ngModelChange"}),t["\u0275prd"](1024,null,h.NG_VALIDATORS,(function(l,n){return[l,n]}),[h.MaxLengthValidator,g.KeyFilter]),t["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,(function(l){return[l]}),[h.DefaultValueAccessor]),t["\u0275did"](56,671744,null,0,h.NgModel,[[8,null],[6,h.NG_VALIDATORS],[8,null],[6,h.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,h.NgControl,null,[h.NgModel]),t["\u0275did"](58,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null),t["\u0275did"](59,278528,null,0,v.InputTextarea,[t.ElementRef,[2,h.NgModel]],null,null),(l()(),t["\u0275ted"](-1,null,["            "])),(l()(),t["\u0275and"](16777216,null,null,1,null,I)),t["\u0275did"](62,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](63,0,null,2,5,"roots-footer",[],null,null,null,p.c,p.a)),t["\u0275did"](64,49152,[[6,4]],0,m.Footer,[],null,null),(l()(),t["\u0275eld"](65,0,null,0,1,"button",[["class","btn-secondary"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.rejectApplication("No")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Cancel"])),(l()(),t["\u0275eld"](67,0,null,0,1,"button",[["class","btn-primary"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.rejectApplication("Ok")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Ok"])),(l()(),t["\u0275eld"](69,0,null,null,12,"roots-dialog",[["header","Confirm"]],null,[[null,"visibleChange"]],(function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.displayConfirmation=e)&&t),t}),d.b,d.a)),t["\u0275did"](70,180224,null,2,c.Dialog,[t.ElementRef,t.Renderer2,t.NgZone],{visible:[0,"visible"],header:[1,"header"],modal:[2,"modal"],responsive:[3,"responsive"],baseZIndex:[4,"baseZIndex"]},{visibleChange:"visibleChange"}),t["\u0275qud"](603979776,7,{headerFacet:1}),t["\u0275qud"](603979776,8,{footerFacet:1}),(l()(),t["\u0275eld"](73,0,null,1,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Are you sure to go back from the screen?"])),(l()(),t["\u0275eld"](75,0,null,2,6,"roots-footer",[],null,null,null,p.c,p.a)),t["\u0275did"](76,49152,[[8,4]],0,m.Footer,[],null,null),(l()(),t["\u0275eld"](77,0,null,0,4,"div",[["class","float-right mb-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](78,0,null,null,1,"button",[["class","btn-primary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.navigateToDocType()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Yes"])),(l()(),t["\u0275eld"](80,0,null,null,1,"button",[["class","btn-secondary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeDialogue()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["No"]))],(function(l,n){var e=n.component;l(n,6,0,e.breadcrumb),l(n,21,0,e.tabMenu),l(n,24,0),l(n,26,0,e.visible&&e.canApprove);var t=e.approveVisible,i=l(n,31,0,"300px","300px");l(n,28,0,t,"Approve Confirmation",!0,!0,i,1e4),l(n,41,0,e.rejectVisible,"Reject Confirmation",!0,!0,1e4),l(n,52,0,"100"),l(n,53,0,e.pattern),l(n,56,0,e.commentsVal),l(n,59,0),l(n,62,0,e.showError),l(n,70,0,e.displayConfirmation,"Confirm",!0,!0,1e4)}),(function(l,n){var e=n.component;l(n,15,0,e.formType),l(n,17,0,e.approvalStatus),l(n,50,1,[t["\u0275nov"](n,52).maxlength?t["\u0275nov"](n,52).maxlength:null,t["\u0275nov"](n,58).ngClassUntouched,t["\u0275nov"](n,58).ngClassTouched,t["\u0275nov"](n,58).ngClassPristine,t["\u0275nov"](n,58).ngClassDirty,t["\u0275nov"](n,58).ngClassValid,t["\u0275nov"](n,58).ngClassInvalid,t["\u0275nov"](n,58).ngClassPending,!0,!0,t["\u0275nov"](n,59).autoResize,!0,!0,t["\u0275nov"](n,59).filled])}))}function F(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-bank",[],null,null,null,R,y)),t["\u0275did"](1,114688,null,0,f,[o.ActivatedRoute,o.Router,b.a,C.MessageService],null,null)],(function(l,n){l(n,1,0)}),null)}var A=t["\u0275ccf"]("app-bank",f,F,{},{},[]),E=e("b8x/"),_=e("gpq3"),D=e("moEV"),M=e("3g4R"),N=e("J16M"),T=e("vsAh"),x=e("sspg"),O=e("0D+j"),P=(e("UwVb"),e("ypzu"));class V extends P.a{constructor(l,n,e,t,i,u,a){super(n),this.fb=l,this.commonService=n,this.router=e,this.route=t,this.messageService=i,this.reService=u,this.validationService=a,this.formKeyLabels=[{label:"name",name:"Name",verb:"is",key:"name",message:"Only alphabets are allowed."},{label:"url",name:"URL",verb:"is",key:"url"},{label:"purpose",name:"Purpose",verb:"is",key:"purpose",message:"Only alphabets are allowed."},{label:"criticality",name:"Criticality",verb:"is",key:"criticality",message:"Only alphabets are allowed."}],this.appliactionsInfo=[],this.selectedApplications=[],this.msgDisplayTime=5e3,this.deletedApplicationIds=[],this.navigateFrom=JSON.parse(sessionStorage.getItem("navigateFrom")),this.reService.applicationsInfo$.subscribe(l=>{1==l&&this.createApplicationForm()}),this.route.data.subscribe(l=>{this.bankDetail=l.bankDetail}),this.loadUserPrivilege("RE"),this.bankId=this.bankDetail.id}createApplicationForm(){this.applicationFormGroup=this.fb.group({id:[""],modified:[""],name:["",[h.Validators.required,h.Validators.pattern(this.validationService.REGEX_EXP_FOR_STRING)]],url:["",h.Validators.required],purpose:["",[h.Validators.required,h.Validators.pattern(this.validationService.REGEX_EXP_FOR_STRING)]],criticality:["",[h.Validators.required,h.Validators.pattern(this.validationService.REGEX_EXP_FOR_STRING)]]})}ngOnInit(){this.createApplicationForm(),this.loadApplications()}showDeleteConfirmation(l){"application"==l&&(console.log(this.selectedApplications.length),this.selectedApplications.length<=0?(this.deleteApplication=!1,this.messageService.clear(),this.messageService.add({severity:"error",sticky:!0,summary:"",detail:"Please select atleast one application to delete."})):(this.deleteApplication=!0,console.log(this.deleteConfirm)))}ngDoCheck(){this.applicationFormGroup.dirty&&(this.gridChanges=!1,this.ClickSave=!1)}addApplications(l){this.isSubmitted=!0,this.gridChanges=!0,this.isFieldValid=this.commonService.isFieldValid(this.applicationFormGroup),this.applicationFormGroup.valid?(l?(this.applicationFormGroup.get("modified").setValue(!0),this.appliactionsInfo.splice(this.rowIndex,1,this.applicationFormGroup.value),this.isAppEdited=!1):this.appliactionsInfo.push(this.applicationFormGroup.value),this.applicationFormGroup.get("name").setValidators(null),this.applicationFormGroup.get("url").setValidators(null),this.applicationFormGroup.get("purpose").setValidators(null),this.applicationFormGroup.get("criticality").setValidators(null),this.applicationFormGroup.updateValueAndValidity(),this.applicationFormGroup.reset(),this.reService.applicationsInfo$.next(!0)):(this.messageService.clear(),this.validationService.markFormGroupTouched(this.applicationFormGroup),this.validationService.scrollIfFormHasErrors(this.applicationFormGroup))}discardApplicationChanges(){this.applicationFormGroup.reset()}saveApplications(l){this.ClickSave=!0,this.applicationFormGroup.reset();let n=this.appliactionsInfo;console.log(this.bankId),n.forEach(l=>{l.reId=this.bankId?this.bankId:""}),"save"===l?this.approvalStatus="DRAFT":"submit"===l&&(this.approvalStatus="PENDING_FOR_APPROVAL"),this.reService.saveApplication(this.bankId,n,this.approvalStatus).subscribe(n=>{this.appliactionsInfo=n.data,"save"==l?(this.messageService.clear(),this.messageService.add({severity:"success",sticky:!0,summary:"",detail:n.message})):"submit"==l&&(this.messageService.clear(),this.messageService.add({severity:"success",sticky:!0,summary:"",detail:n.message}),"SEARCH"==this.navigateFrom?this.router.navigateByUrl("/home/admin/banks"):"WORK_QUEUE"==this.navigateFrom&&this.router.navigateByUrl("/home/viewnotify/mynotificationqueue")),console.log(n),this.selectedApplications=[],console.log(this.appliactionsInfo),this.ClickSave=!1,this.gridChanges=!1},l=>{this.ClickSave=!1,this.gridChanges=!0,this.messageService.clear(),this.messageService.add({severity:"error",sticky:!0,summary:"Error Message",detail:l.error.message}),this.selectedApplications=[]})}deleteApplications(l){if("Ok"==l){this.deletedApplicationIds=[];for(let l=0;this.selectedApplications.length>l;l++)for(let n=0;this.appliactionsInfo.length>n;n++)this.selectedApplications[l].id?this.selectedApplications[l].id==this.appliactionsInfo[n].id&&(this.deletedApplicationIds.push(this.selectedApplications[l].id),console.log("DELETE"+this.deletedApplicationIds)):this.selectedApplications[l]==this.appliactionsInfo[n]&&this.appliactionsInfo.splice(n,1);this.deletedApplicationIds.length>0?this.reService.deleteApplication(this.bankId,this.deletedApplicationIds).subscribe(l=>{this.appliactionsInfo=l.data,this.deleteApplication=!1,this.messageService.clear(),this.messageService.add({severity:"success",sticky:!0,summary:"",detail:l.message}),console.log(l),console.log(this.appliactionsInfo),this.selectedApplications=[]},l=>{this.deleteApplication=!1,this.messageService.clear(),this.messageService.add({severity:"error",sticky:!0,summary:"Error Message",detail:l.error.message})}):(this.deleteApplication=!1,this.messageService.clear(),this.messageService.add({severity:"success",sticky:!0,summary:"",detail:"Applications Deleted  Successfully"}),this.selectedApplications=[])}else this.deleteApplication=!1}editApplications(l,n){this.applicationFormGroup.patchValue({id:l.id?l.id:"",name:l.name,url:l.url,purpose:l.purpose,criticality:l.criticality}),this.isAppEdited=!0}loadApplications(){this.reService.getApplications(this.bankId).subscribe(l=>{this.appliactionsInfo=l.data,console.log(this.appliactionsInfo)},l=>{this.messageService.clear(),this.messageService.add({severity:"error",sticky:!0,summary:"Error Message",detail:l.error.message})})}checkForEdit(l){return this.bankId?"Draft"!==l&&"Rejected"!==l&&"Approved"!==l||!this.checkModuleAccess("Update")?(this.isApplication=!1,this.applicationFormGroup.disable(),!1):(this.isApplication=!0,this.applicationFormGroup.enable(),!0):(this.isApplication=!1,this.applicationFormGroup.disable(),!1)}isFormReadOnly(){if(this.bankDetail.id)return!this.checkForEdit(this.bankDetail.approvalStatus)}checkFormReadOnly(){this.isFormReadOnly()?(this.isApplication=!1,this.applicationFormGroup.disable()):(this.isApplication=!0,this.applicationFormGroup.enable())}canDeactivate(){return!!this.ClickSave||(this.gridChanges?this.applicationFormGroup.dirty:!this.applicationFormGroup.dirty)}}var B=e("BVQM"),w=e("QmtP"),G=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .check-select .ui-state-default{padding:0!important}[_nghost-%COMP%]     .ui-tabview-panel{padding:.375em .75em!important;background:0!important;border:1px solid #c8c8c8!important}.splitter[_ngcontent-%COMP%]{border-bottom:2px solid #dcd8d8}.transBtn[_ngcontent-%COMP%]{color:#205db1}[_nghost-%COMP%]     .ui-table{padding:8px 12px!important}"]],data:{}});function U(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","name"]],null,null,null,_.b,_.a)),t["\u0275did"](1,114688,null,0,D.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.validationService.getFormControlValidationErrors(e.applicationFormGroup,e.formKeyLabels),"name")}),null)}function L(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","url"]],null,null,null,_.b,_.a)),t["\u0275did"](1,114688,null,0,D.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.validationService.getFormControlValidationErrors(e.applicationFormGroup,e.formKeyLabels),"url")}),null)}function q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","purpose"]],null,null,null,_.b,_.a)),t["\u0275did"](1,114688,null,0,D.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.validationService.getFormControlValidationErrors(e.applicationFormGroup,e.formKeyLabels),"purpose")}),null)}function j(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","criticality"]],null,null,null,_.b,_.a)),t["\u0275did"](1,114688,null,0,D.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.validationService.getFormControlValidationErrors(e.applicationFormGroup,e.formKeyLabels),"criticality")}),null)}function K(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,62,"div",[["class","row mt-4 mb-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,61,"div",[["class","col-12 splitter pl-0 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,60,"form",[["autocomplete","off"],["class","container-fluid"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var i=!0;return"submit"===n&&(i=!1!==t["\u0275nov"](l,4).onSubmit(e)&&i),"reset"===n&&(i=!1!==t["\u0275nov"](l,4).onReset()&&i),i}),null,null)),t["\u0275did"](3,16384,null,0,h["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](4,540672,null,0,h.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,h.ControlContainer,null,[h.FormGroupDirective]),t["\u0275did"](6,16384,null,0,h.NgControlStatusGroup,[[4,h.ControlContainer]],null,null),(l()(),t["\u0275ted"](7,null,[""," "])),(l()(),t["\u0275eld"](8,0,null,null,48,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,11,"div",[["class","col-sm-6 col-xs-12 col-md-3 col-lg-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"label",[["class","labelStyle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Name "])),(l()(),t["\u0275eld"](13,0,null,null,5,"input",[["formControlName","name"],["placeholder","Enter Name"],["roots-InputText",""],["size","30"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,14)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,14).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,14)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,14)._compositionEnd(e.target.value)&&i),"blur"===n&&(i=!1!==u.validationService.trimSpaceFn(u.applicationFormGroup.get("name"))&&i),i}),null,null)),t["\u0275did"](14,16384,null,0,h.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,(function(l){return[l]}),[h.DefaultValueAccessor]),t["\u0275did"](16,671744,null,0,h.FormControlName,[[3,h.ControlContainer],[8,null],[8,null],[6,h.NG_VALUE_ACCESSOR],[2,h["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.NgControl,null,[h.FormControlName]),t["\u0275did"](18,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,U)),t["\u0275did"](20,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](21,0,null,null,11,"div",[["class","col-sm-6 col-xs-12 col-md-3 col-lg-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,1,"label",[["class","labelStyle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["URL"])),(l()(),t["\u0275eld"](25,0,null,null,5,"input",[["formControlName","url"],["placeholder","Enter URL"],["roots-InputText",""],["size","30"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,26)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,26).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,26)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,26)._compositionEnd(e.target.value)&&i),"blur"===n&&(i=!1!==u.validationService.trimSpaceFn(u.applicationFormGroup.get("url"))&&i),i}),null,null)),t["\u0275did"](26,16384,null,0,h.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,(function(l){return[l]}),[h.DefaultValueAccessor]),t["\u0275did"](28,671744,null,0,h.FormControlName,[[3,h.ControlContainer],[8,null],[8,null],[6,h.NG_VALUE_ACCESSOR],[2,h["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.NgControl,null,[h.FormControlName]),t["\u0275did"](30,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,L)),t["\u0275did"](32,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](33,0,null,null,11,"div",[["class","col-sm-6 col-xs-12 col-md-3 col-lg-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,1,"label",[["class","labelStyle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Purpose "])),(l()(),t["\u0275eld"](37,0,null,null,5,"input",[["formControlName","purpose"],["placeholder","Enter Purpose"],["roots-InputText",""],["size","30"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,38)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,38).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,38)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,38)._compositionEnd(e.target.value)&&i),"blur"===n&&(i=!1!==u.validationService.trimSpaceFn(u.applicationFormGroup.get("purpose"))&&i),i}),null,null)),t["\u0275did"](38,16384,null,0,h.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,(function(l){return[l]}),[h.DefaultValueAccessor]),t["\u0275did"](40,671744,null,0,h.FormControlName,[[3,h.ControlContainer],[8,null],[8,null],[6,h.NG_VALUE_ACCESSOR],[2,h["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.NgControl,null,[h.FormControlName]),t["\u0275did"](42,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,q)),t["\u0275did"](44,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](45,0,null,null,11,"div",[["class","col-sm-6 col-xs-12 col-md-3 col-lg-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,1,"label",[["class","labelStyle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Criticality "])),(l()(),t["\u0275eld"](49,0,null,null,5,"input",[["formControlName","criticality"],["placeholder","Enter Criticality"],["roots-InputText",""],["size","30"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,50)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,50).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,50)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,50)._compositionEnd(e.target.value)&&i),"blur"===n&&(i=!1!==u.validationService.trimSpaceFn(u.applicationFormGroup.get("criticality"))&&i),i}),null,null)),t["\u0275did"](50,16384,null,0,h.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,(function(l){return[l]}),[h.DefaultValueAccessor]),t["\u0275did"](52,671744,null,0,h.FormControlName,[[3,h.ControlContainer],[8,null],[8,null],[6,h.NG_VALUE_ACCESSOR],[2,h["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.NgControl,null,[h.FormControlName]),t["\u0275did"](54,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,j)),t["\u0275did"](56,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](57,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](58,0,null,null,4,"div",[["class","col-md-12 mb-3 mt-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](59,0,null,null,1,"button",[["class","btn-primary float-right"]],null,[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.addApplications(i.isAppEdited)&&t),t}),null,null)),(l()(),t["\u0275ted"](60,null,[" ",""])),(l()(),t["\u0275eld"](61,0,null,null,1,"button",[["class","btn-secondary float-right"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.discardApplicationChanges()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Cancel"]))],(function(l,n){var e=n.component;l(n,4,0,e.applicationFormGroup),l(n,16,0,"name"),l(n,20,0,e.validationService.checkFieldTouched(e.applicationFormGroup,"name")),l(n,28,0,"url"),l(n,32,0,e.validationService.checkFieldTouched(e.applicationFormGroup,"url")),l(n,40,0,"purpose"),l(n,44,0,e.validationService.checkFieldTouched(e.applicationFormGroup,"purpose")),l(n,52,0,"criticality"),l(n,56,0,e.validationService.checkFieldTouched(e.applicationFormGroup,"criticality"))}),(function(l,n){var e=n.component;l(n,2,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,7,0,e.checkFormReadOnly()),l(n,13,0,t["\u0275nov"](n,18).ngClassUntouched,t["\u0275nov"](n,18).ngClassTouched,t["\u0275nov"](n,18).ngClassPristine,t["\u0275nov"](n,18).ngClassDirty,t["\u0275nov"](n,18).ngClassValid,t["\u0275nov"](n,18).ngClassInvalid,t["\u0275nov"](n,18).ngClassPending),l(n,25,0,t["\u0275nov"](n,30).ngClassUntouched,t["\u0275nov"](n,30).ngClassTouched,t["\u0275nov"](n,30).ngClassPristine,t["\u0275nov"](n,30).ngClassDirty,t["\u0275nov"](n,30).ngClassValid,t["\u0275nov"](n,30).ngClassInvalid,t["\u0275nov"](n,30).ngClassPending),l(n,37,0,t["\u0275nov"](n,42).ngClassUntouched,t["\u0275nov"](n,42).ngClassTouched,t["\u0275nov"](n,42).ngClassPristine,t["\u0275nov"](n,42).ngClassDirty,t["\u0275nov"](n,42).ngClassValid,t["\u0275nov"](n,42).ngClassInvalid,t["\u0275nov"](n,42).ngClassPending),l(n,49,0,t["\u0275nov"](n,54).ngClassUntouched,t["\u0275nov"](n,54).ngClassTouched,t["\u0275nov"](n,54).ngClassPristine,t["\u0275nov"](n,54).ngClassDirty,t["\u0275nov"](n,54).ngClassValid,t["\u0275nov"](n,54).ngClassInvalid,t["\u0275nov"](n,54).ngClassPending),l(n,60,0,1==e.isAppEdited?"Update":"Add")}))}function Z(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"th",[["class","text-center"],["style","width: 3em"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"roots-tableHeaderCheckbox",[["class","check-select"]],null,null,null,M.i,M.e)),t["\u0275did"](3,245760,null,0,N.TableHeaderCheckbox,[N.Table,N.TableService],null,null),(l()(),t["\u0275eld"](4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Name "])),(l()(),t["\u0275eld"](6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["URL "])),(l()(),t["\u0275eld"](8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Purpose"])),(l()(),t["\u0275eld"](10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Criticality "])),(l()(),t["\u0275eld"](12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Action"]))],(function(l,n){l(n,3,0)}),null)}function $(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","p-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","cur-poi fa fa-pencil-alt text-primary"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editApplications(l.parent.context.$implicit,l.parent.context.rowIndex)&&t),t}),null,null))],null,null)}function H(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","p-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","far fa-eye text-primary cur-poi"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editApplications(l.parent.context.$implicit,l.parent.context.rowIndex)&&t),t}),null,null))],null,null)}function z(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"tr",[],[[2,"ui-selectable-row",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"touchend"],[null,"keydown"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](l,1).onClick(e)&&i),"touchend"===n&&(i=!1!==t["\u0275nov"](l,1).onTouchEnd(e)&&i),"keydown"===n&&(i=!1!==t["\u0275nov"](l,1).onKeyDown(e)&&i),i}),null,null)),t["\u0275did"](1,212992,null,0,N.SelectableRow,[N.Table,N.TableService],{data:[0,"data"]},null),(l()(),t["\u0275eld"](2,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"roots-tableCheckbox",[["class","check-select"]],null,null,null,M.h,M.d)),t["\u0275did"](4,245760,null,0,N.TableCheckbox,[N.Table,N.TableService],{value:[0,"value"]},null),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,[" "," "])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,[" "," "])),(l()(),t["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,[" "," "])),(l()(),t["\u0275eld"](11,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,[" "," "])),(l()(),t["\u0275eld"](13,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,$)),t["\u0275did"](16,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,H)),t["\u0275did"](18,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,1,0,n.context.$implicit),l(n,4,0,n.context.$implicit),l(n,16,0,e.checkModuleAccess("Update")),l(n,18,0,!e.checkModuleAccess("Update"))}),(function(l,n){l(n,0,0,t["\u0275nov"](n,1).isEnabled(),t["\u0275nov"](n,1).selected,t["\u0275nov"](n,1).isEnabled()?0:void 0),l(n,6,0,n.context.$implicit.name),l(n,8,0,n.context.$implicit.url),l(n,10,0,n.context.$implicit.purpose),l(n,12,0,n.context.$implicit.criticality)}))}function X(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","nodata"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No records found"]))],null,null)}function W(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","col-12 text-right mr-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn-approved float-right"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveApplications("submit")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Send For Approval"])),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn-primary float-right"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveApplications("save")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Save as Draft"])),(l()(),t["\u0275eld"](5,0,null,null,1,"button",[["class","btn-secondary float-right"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showDeleteConfirmation("application")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Delete"]))],null,(function(l,n){var e=n.component;l(n,3,0,e.appliactionsInfo&&0==e.appliactionsInfo.length),l(n,5,0,e.appliactionsInfo&&0==e.appliactionsInfo.length)}))}function J(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,23,"div",[["class","container-fluid row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,19,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,15,"roots-tabPanel",[["header","Applications"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,K)),t["\u0275did"](4,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](5,0,null,null,12,"div",[["class","col-md-12 mb-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"div",[["class","mb-3 subTabTitle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Applications Info List"])),(l()(),t["\u0275eld"](8,0,null,null,7,"roots-table",[["class","app_table mt-2 px-0"],["dataKey","name"],["editMode","row"]],null,[[null,"selectionChange"]],(function(l,n,e){var t=!0;return"selectionChange"===n&&(t=!1!==(l.component.selectedApplications=e)&&t),t}),M.j,M.c)),t["\u0275prd"](512,null,N.TableService,N.TableService,[]),t["\u0275did"](10,5488640,null,1,N.Table,[t.ElementRef,t.NgZone,N.TableService,t.ChangeDetectorRef],{dataKey:[0,"dataKey"],editMode:[1,"editMode"],value:[2,"value"],selection:[3,"selection"]},{selectionChange:"selectionChange"}),t["\u0275qud"](603979776,1,{templates:1}),(l()(),t["\u0275and"](0,null,null,1,null,Z)),t["\u0275did"](13,16384,[[1,4]],0,m.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,z)),t["\u0275did"](15,16384,[[1,4]],0,m.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,X)),t["\u0275did"](17,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](18,0,null,null,2,"div",[["class","row  mt-3 mb-4"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,W)),t["\u0275did"](20,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](21,0,null,null,2,"roots-confirmDialog",[["acceptButtonStyleClass","unSavedAcceptClass"],["acceptIcon",""],["header","Confirmation"],["icon","fa fa-question-circle"],["rejectButtonStyleClass","unSavedRejClass"],["rejectIcon",""],["width","400"]],null,null,null,T.b,T.a)),t["\u0275did"](22,180224,null,1,x.ConfirmDialog,[t.ElementRef,t.Renderer2,O.ConfirmationService,t.NgZone],{header:[0,"header"],icon:[1,"icon"],acceptIcon:[2,"acceptIcon"],rejectIcon:[3,"rejectIcon"],acceptButtonStyleClass:[4,"acceptButtonStyleClass"],rejectButtonStyleClass:[5,"rejectButtonStyleClass"],closable:[6,"closable"],width:[7,"width"]},null),t["\u0275qud"](603979776,2,{footer:0}),(l()(),t["\u0275eld"](24,0,null,null,12,"roots-dialog",[["header","Delete Confirmation"]],null,[[null,"visibleChange"]],(function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.deleteApplication=e)&&t),t}),d.b,d.a)),t["\u0275did"](25,180224,null,2,c.Dialog,[t.ElementRef,t.Renderer2,t.NgZone],{visible:[0,"visible"],header:[1,"header"],modal:[2,"modal"],responsive:[3,"responsive"],style:[4,"style"],baseZIndex:[5,"baseZIndex"]},{visibleChange:"visibleChange"}),t["\u0275qud"](603979776,3,{headerFacet:1}),t["\u0275qud"](603979776,4,{footerFacet:1}),t["\u0275pod"](28,{width:0,minWidth:1}),(l()(),t["\u0275eld"](29,0,null,1,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Do you want to delete?"])),(l()(),t["\u0275eld"](31,0,null,2,5,"roots-footer",[],null,null,null,p.c,p.a)),t["\u0275did"](32,49152,[[4,4]],0,m.Footer,[],null,null),(l()(),t["\u0275eld"](33,0,null,0,1,"button",[["class","btn-secondary"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteApplications("No")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Cancel"])),(l()(),t["\u0275eld"](35,0,null,0,1,"button",[["class","btn-primary"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteApplications("Ok")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Ok"]))],(function(l,n){var e=n.component;l(n,4,0,!e.isFormReadOnly()),l(n,10,0,"name","row",e.appliactionsInfo,e.selectedApplications),l(n,13,0,"header"),l(n,15,0,"body"),l(n,17,0,0==e.appliactionsInfo.length),l(n,20,0,!e.isFormReadOnly()),l(n,22,0,"Confirmation","fa fa-question-circle","","","unSavedAcceptClass","unSavedRejClass",!1,"400");var t=e.deleteApplication,i=l(n,28,0,"300px","300px");l(n,25,0,t,"Delete Confirmation",!0,!0,i,1e4)}),null)}function Q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-application",[],null,null,null,J,G)),t["\u0275did"](1,376832,null,0,V,[h.FormBuilder,b.a,o.Router,o.ActivatedRoute,C.MessageService,B.a,w.b],null,null)],(function(l,n){l(n,1,0)}),null)}var Y=t["\u0275ccf"]("app-application",V,Q,{},{},[]);class ll extends P.a{constructor(l,n,e,t,i,u,a){super(n),this.fb=l,this.commonService=n,this.router=e,this.route=t,this.messageService=i,this.reService=u,this.validationService=a,this.formKeyLabels=[{label:"name",name:"Name",verb:"is",key:"name",message:"Only alphabets are allowed."},{label:"purpose",name:"Purpose",verb:"is",key:"purpose",message:"Only alphabets are allowed."},{label:"criticality",name:"Criticality",verb:"is",key:"criticality",message:"Only alphabets are allowed."}],this.dataBases=[],this.deletedDatabaseIds=[],this.selectedDataBases=[],this.msgDisplayTime=5e3,this.deleteConfirm=!1,this.reService.dataBaseInfo$.subscribe(l=>{1==l&&this.createDataBaseForm()}),this.route.data.subscribe(l=>{this.bankDetail=l.bankDetail}),this.bankId=this.bankDetail.id,this.loadUserPrivilege("RE")}ngOnInit(){this.navigateFrom=JSON.parse(sessionStorage.getItem("navigateFrom")),this.createDataBaseForm(),this.loadDatabases(),console.log(this.deleteConfirm)}ngDoCheck(){this.dataBaseFormGroup.dirty&&(this.gridChanges=!1,this.ClickSave=!1)}createDataBaseForm(){this.dataBaseFormGroup=this.fb.group({id:[""],modified:[""],name:["",[h.Validators.required,h.Validators.pattern(this.validationService.REGEX_EXP_FOR_STRING)]],purpose:["",[h.Validators.required,h.Validators.pattern(this.validationService.REGEX_EXP_FOR_STRING)]],criticality:["",[h.Validators.required,h.Validators.pattern(this.validationService.REGEX_EXP_FOR_STRING)]]})}showDeleteConfirmation(l){console.log(l),"database"==l&&(this.selectedDataBases.length<=0?(this.deleteConfirm=!1,this.messageService.clear(),this.messageService.add({severity:"error",sticky:!0,summary:"",detail:"Please select atleast one database to delete."})):(this.deleteConfirm=!0,console.log(this.deleteConfirm)))}addDatabases(l){this.gridChanges=!0,this.isSubmitted=!0,this.isFieldValid=this.commonService.isFieldValid(this.dataBaseFormGroup),this.dataBaseFormGroup.valid?(l?(this.dataBaseFormGroup.get("modified").setValue(!0),this.dataBases.splice(this.rowIndex,1,this.dataBaseFormGroup.value),this.isEdited=!1):this.dataBases.push(this.dataBaseFormGroup.value),this.dataBaseFormGroup.get("name").setValidators(null),this.dataBaseFormGroup.get("purpose").setValidators(null),this.dataBaseFormGroup.get("criticality").setValidators(null),this.dataBaseFormGroup.updateValueAndValidity(),this.dataBaseFormGroup.reset(),this.reService.dataBaseInfo$.next(!0)):(this.messageService.clear(),this.validationService.markFormGroupTouched(this.dataBaseFormGroup),this.validationService.scrollIfFormHasErrors(this.dataBaseFormGroup))}discardChanges(){this.dataBaseFormGroup.reset(),this.isEdited=!0}saveDatabase(l){this.ClickSave=!0,this.dataBaseFormGroup.reset();let n=this.dataBases;n.forEach(l=>{l.reId=this.bankId?this.bankId:""}),"save"===l?this.approvalStatus="DRAFT":"submit"===l&&(this.approvalStatus="PENDING_FOR_APPROVAL"),this.reService.saveDatabases(this.bankId,n,this.approvalStatus).subscribe(n=>{this.dataBases=n.data,"save"==l?(this.messageService.clear(),this.messageService.add({severity:"success",sticky:!0,summary:"",detail:n.message})):"submit"==l&&(this.messageService.clear(),this.messageService.add({severity:"success",sticky:!0,summary:"",detail:n.message}),"SEARCH"==this.navigateFrom?this.router.navigateByUrl("/home/admin/banks"):"WORK_QUEUE"==this.navigateFrom&&this.router.navigateByUrl("/home/viewnotify/mynotificationqueue")),this.gridChanges=!1,this.selectedDataBases=[]},l=>{this.messageService.clear(),this.messageService.add({severity:"error",sticky:!0,summary:"Error Message",detail:l.error.message}),this.selectedDataBases=[],this.gridChanges=!0,this.ClickSave=!1})}loadDatabases(){this.reService.getDatabases(this.bankId).subscribe(l=>{this.dataBases=l.data},l=>{this.messageService.clear(),this.messageService.add({severity:"error",sticky:!0,summary:"Error Message",detail:l.error.message})})}deleteDatabase(l){if(console.log(l),"Ok"==l){this.deletedDatabaseIds=[];for(let l=0;this.selectedDataBases.length>l;l++)for(let n=0;this.dataBases.length>n;n++)this.selectedDataBases[l].id?this.selectedDataBases[l].id==this.dataBases[n].id&&(this.deletedDatabaseIds.push(this.selectedDataBases[l].id),console.log("DELETE"+this.deletedDatabaseIds)):this.selectedDataBases[l]==this.dataBases[n]&&(this.dataBases.splice(n,1),this.deleteConfirm=!1);this.deletedDatabaseIds.length>0?(console.log("this.deletedDatabaseIds"),console.log(this.deletedDatabaseIds),this.reService.deleteDatabases(this.bankId,this.deletedDatabaseIds).subscribe(l=>{this.dataBases=l.data,this.deleteConfirm=!1,this.messageService.clear(),this.messageService.add({severity:"success",sticky:!0,summary:"",detail:l.message}),this.selectedDataBases=[]},l=>{this.deleteConfirm=!1,this.messageService.clear(),this.messageService.add({severity:"error",sticky:!0,summary:"Error Message",detail:l.error.message})})):(this.deleteConfirm=!1,this.messageService.clear(),this.messageService.add({severity:"success",sticky:!0,summary:"",detail:"Databases Deleted Successfully"}),this.selectedDataBases=[])}else this.deleteConfirm=!1}editDatabase(l,n){this.rowIndex=n,this.dataBaseFormGroup.patchValue({id:l.id?l.id:"",name:l.name,purpose:l.purpose,criticality:l.criticality}),this.isEdited=!0}checkForEdit(l){return this.bankId?"Draft"!==l&&"Rejected"!==l&&"Approved"!==l||!this.checkModuleAccess("Update")?(this.isDataBase=!1,this.dataBaseFormGroup.disable(),!1):(this.isDataBase=!0,this.dataBaseFormGroup.enable(),!0):(this.isDataBase=!1,this.dataBaseFormGroup.disable(),!1)}isFormReadOnly(){if(this.bankDetail.id)return!this.checkForEdit(this.bankDetail.approvalStatus)}checkFormReadOnly(){this.isFormReadOnly()?(this.isDataBase=!1,this.dataBaseFormGroup.disable()):(this.isDataBase=!0,this.dataBaseFormGroup.enable())}canDeactivate(){return!!this.ClickSave||(this.gridChanges?this.dataBaseFormGroup.dirty:!this.dataBaseFormGroup.dirty)}}var nl=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]     .check-select .ui-state-default{padding:0!important}[_nghost-%COMP%]     .ui-tabview-panel{padding:.375em .75em!important;background:0!important;border:1px solid #c8c8c8!important}[_nghost-%COMP%]     .ui-table{padding:8px 12px!important}.splitter[_ngcontent-%COMP%]{border-bottom:2px solid #dcd8d8}.transBtn[_ngcontent-%COMP%]{color:#205db1}"]],data:{}});function el(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","name"]],null,null,null,_.b,_.a)),t["\u0275did"](1,114688,null,0,D.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.validationService.getFormControlValidationErrors(e.dataBaseFormGroup,e.formKeyLabels),"name")}),null)}function tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","purpose"]],null,null,null,_.b,_.a)),t["\u0275did"](1,114688,null,0,D.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.validationService.getFormControlValidationErrors(e.dataBaseFormGroup,e.formKeyLabels),"purpose")}),null)}function il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","criticality"]],null,null,null,_.b,_.a)),t["\u0275did"](1,114688,null,0,D.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.validationService.getFormControlValidationErrors(e.dataBaseFormGroup,e.formKeyLabels),"criticality")}),null)}function ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,50,"div",[["class","row mt-4 mb-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,49,"div",[["class","col-12 splitter pl-0 pr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,48,"form",[["autocomplete","off"],["class","container-fluid"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var i=!0;return"submit"===n&&(i=!1!==t["\u0275nov"](l,4).onSubmit(e)&&i),"reset"===n&&(i=!1!==t["\u0275nov"](l,4).onReset()&&i),i}),null,null)),t["\u0275did"](3,16384,null,0,h["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](4,540672,null,0,h.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,h.ControlContainer,null,[h.FormGroupDirective]),t["\u0275did"](6,16384,null,0,h.NgControlStatusGroup,[[4,h.ControlContainer]],null,null),(l()(),t["\u0275ted"](7,null,[" "," "])),(l()(),t["\u0275eld"](8,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,11,"div",[["class","col-sm-6 col-xs-12 col-md-3 col-lg-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Name"])),(l()(),t["\u0275eld"](13,0,null,null,5,"input",[["formControlName","name"],["placeholder","Enter Name"],["roots-InputText",""],["size","30"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,14)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,14).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,14)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,14)._compositionEnd(e.target.value)&&i),"blur"===n&&(i=!1!==u.validationService.trimSpaceFn(u.dataBaseFormGroup.get("name"))&&i),i}),null,null)),t["\u0275did"](14,16384,null,0,h.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,(function(l){return[l]}),[h.DefaultValueAccessor]),t["\u0275did"](16,671744,null,0,h.FormControlName,[[3,h.ControlContainer],[8,null],[8,null],[6,h.NG_VALUE_ACCESSOR],[2,h["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.NgControl,null,[h.FormControlName]),t["\u0275did"](18,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,el)),t["\u0275did"](20,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](21,0,null,null,11,"div",[["class","col-sm-6 col-xs-12 col-md-3 col-lg-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Purpose "])),(l()(),t["\u0275eld"](25,0,null,null,5,"input",[["formControlName","purpose"],["placeholder","Enter Purpose"],["roots-InputText",""],["size","30"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,26)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,26).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,26)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,26)._compositionEnd(e.target.value)&&i),"blur"===n&&(i=!1!==u.validationService.trimSpaceFn(u.dataBaseFormGroup.get("purpose"))&&i),i}),null,null)),t["\u0275did"](26,16384,null,0,h.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,(function(l){return[l]}),[h.DefaultValueAccessor]),t["\u0275did"](28,671744,null,0,h.FormControlName,[[3,h.ControlContainer],[8,null],[8,null],[6,h.NG_VALUE_ACCESSOR],[2,h["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.NgControl,null,[h.FormControlName]),t["\u0275did"](30,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,tl)),t["\u0275did"](32,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](33,0,null,null,11,"div",[["class","col-sm-6 col-xs-12 col-md-3 col-lg-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Criticality"])),(l()(),t["\u0275eld"](37,0,null,null,5,"input",[["formControlName","criticality"],["placeholder","Enter Criticality"],["roots-InputText",""],["size","30"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,38)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,38).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,38)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,38)._compositionEnd(e.target.value)&&i),"blur"===n&&(i=!1!==u.validationService.trimSpaceFn(u.dataBaseFormGroup.get("criticality"))&&i),i}),null,null)),t["\u0275did"](38,16384,null,0,h.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,h.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,h.NG_VALUE_ACCESSOR,(function(l){return[l]}),[h.DefaultValueAccessor]),t["\u0275did"](40,671744,null,0,h.FormControlName,[[3,h.ControlContainer],[8,null],[8,null],[6,h.NG_VALUE_ACCESSOR],[2,h["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,h.NgControl,null,[h.FormControlName]),t["\u0275did"](42,16384,null,0,h.NgControlStatus,[[4,h.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,il)),t["\u0275did"](44,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](45,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,4,"div",[["class","col-md-12 mb-3 mt-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,1,"button",[["class","btn-primary float-right"]],null,[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.addDatabases(i.isEdited)&&t),t}),null,null)),(l()(),t["\u0275ted"](48,null,["",""])),(l()(),t["\u0275eld"](49,0,null,null,1,"button",[["class","btn-secondary float-right"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.discardChanges()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Cancel"]))],(function(l,n){var e=n.component;l(n,4,0,e.dataBaseFormGroup),l(n,16,0,"name"),l(n,20,0,e.validationService.checkFieldTouched(e.dataBaseFormGroup,"name")),l(n,28,0,"purpose"),l(n,32,0,e.validationService.checkFieldTouched(e.dataBaseFormGroup,"purpose")),l(n,40,0,"criticality"),l(n,44,0,e.validationService.checkFieldTouched(e.dataBaseFormGroup,"criticality"))}),(function(l,n){var e=n.component;l(n,2,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,7,0,e.checkFormReadOnly()),l(n,13,0,t["\u0275nov"](n,18).ngClassUntouched,t["\u0275nov"](n,18).ngClassTouched,t["\u0275nov"](n,18).ngClassPristine,t["\u0275nov"](n,18).ngClassDirty,t["\u0275nov"](n,18).ngClassValid,t["\u0275nov"](n,18).ngClassInvalid,t["\u0275nov"](n,18).ngClassPending),l(n,25,0,t["\u0275nov"](n,30).ngClassUntouched,t["\u0275nov"](n,30).ngClassTouched,t["\u0275nov"](n,30).ngClassPristine,t["\u0275nov"](n,30).ngClassDirty,t["\u0275nov"](n,30).ngClassValid,t["\u0275nov"](n,30).ngClassInvalid,t["\u0275nov"](n,30).ngClassPending),l(n,37,0,t["\u0275nov"](n,42).ngClassUntouched,t["\u0275nov"](n,42).ngClassTouched,t["\u0275nov"](n,42).ngClassPristine,t["\u0275nov"](n,42).ngClassDirty,t["\u0275nov"](n,42).ngClassValid,t["\u0275nov"](n,42).ngClassInvalid,t["\u0275nov"](n,42).ngClassPending),l(n,48,0,1==e.isEdited?"Update":"Add")}))}function al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"th",[["class","text-center"],["style","width: 3em"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"roots-tableHeaderCheckbox",[["class","check-select"]],null,null,null,M.i,M.e)),t["\u0275did"](3,245760,null,0,N.TableHeaderCheckbox,[N.Table,N.TableService],null,null),(l()(),t["\u0275eld"](4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Name "])),(l()(),t["\u0275eld"](6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Purpose "])),(l()(),t["\u0275eld"](8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Criticality "])),(l()(),t["\u0275eld"](10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Action"]))],(function(l,n){l(n,3,0)}),null)}function ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","p-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","cur-poi fa fa-pencil-alt text-primary"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editDatabase(l.parent.context.$implicit,l.parent.context.rowIndex)&&t),t}),null,null))],null,null)}function sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","p-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","cur-poi far fa-eye text-primary"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editDatabase(l.parent.context.$implicit,l.parent.context.rowIndex)&&t),t}),null,null))],null,null)}function rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"tr",[],[[2,"ui-selectable-row",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"touchend"],[null,"keydown"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](l,1).onClick(e)&&i),"touchend"===n&&(i=!1!==t["\u0275nov"](l,1).onTouchEnd(e)&&i),"keydown"===n&&(i=!1!==t["\u0275nov"](l,1).onKeyDown(e)&&i),i}),null,null)),t["\u0275did"](1,212992,null,0,N.SelectableRow,[N.Table,N.TableService],{data:[0,"data"]},null),(l()(),t["\u0275eld"](2,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"roots-tableCheckbox",[["class","check-select"]],null,null,null,M.h,M.d)),t["\u0275did"](4,245760,null,0,N.TableCheckbox,[N.Table,N.TableService],{value:[0,"value"]},null),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,[" "," "])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,[" "," "])),(l()(),t["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,[" "," "])),(l()(),t["\u0275eld"](11,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ol)),t["\u0275did"](14,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,sl)),t["\u0275did"](16,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,1,0,n.context.$implicit),l(n,4,0,n.context.$implicit),l(n,14,0,e.checkModuleAccess("Update")),l(n,16,0,!e.checkModuleAccess("Update"))}),(function(l,n){l(n,0,0,t["\u0275nov"](n,1).isEnabled(),t["\u0275nov"](n,1).selected,t["\u0275nov"](n,1).isEnabled()?0:void 0),l(n,6,0,n.context.$implicit.name),l(n,8,0,n.context.$implicit.purpose),l(n,10,0,n.context.$implicit.criticality)}))}function dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","nodata"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["No records found"]))],null,null)}function cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","col-12 text-right mr-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","btn-approved float-right m-2"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveDatabase("submit")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Send For Approval"])),(l()(),t["\u0275eld"](3,0,null,null,1,"button",[["class","btn-primary float-right m-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveDatabase("save")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Save as Draft"])),(l()(),t["\u0275eld"](5,0,null,null,1,"button",[["class","btn-secondary float-right m-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showDeleteConfirmation("database")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Delete"]))],null,(function(l,n){var e=n.component;l(n,3,0,e.dataBases&&0==e.dataBases.length),l(n,5,0,e.dataBases&&0==e.dataBases.length)}))}function pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,23,"div",[["class","container-fluid row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,19,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,15,"roots-tabPanel",[["header","Databases"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ul)),t["\u0275did"](4,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](5,0,null,null,12,"div",[["class","col-md-12 mb-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"div",[["class","mb-3 subTabTitle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Databases Info List"])),(l()(),t["\u0275eld"](8,0,null,null,7,"roots-table",[["class","app_table mt-2 px-0"],["dataKey","name"],["editMode","row"]],null,[[null,"selectionChange"]],(function(l,n,e){var t=!0;return"selectionChange"===n&&(t=!1!==(l.component.selectedDataBases=e)&&t),t}),M.j,M.c)),t["\u0275prd"](512,null,N.TableService,N.TableService,[]),t["\u0275did"](10,5488640,null,1,N.Table,[t.ElementRef,t.NgZone,N.TableService,t.ChangeDetectorRef],{dataKey:[0,"dataKey"],editMode:[1,"editMode"],value:[2,"value"],selection:[3,"selection"]},{selectionChange:"selectionChange"}),t["\u0275qud"](603979776,1,{templates:1}),(l()(),t["\u0275and"](0,null,null,1,null,al)),t["\u0275did"](13,16384,[[1,4]],0,m.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,rl)),t["\u0275did"](15,16384,[[1,4]],0,m.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,dl)),t["\u0275did"](17,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](18,0,null,null,2,"div",[["class","row  mt-3 mb-4"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,cl)),t["\u0275did"](20,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](21,0,null,null,2,"roots-confirmDialog",[["acceptButtonStyleClass","unSavedAcceptClass"],["acceptIcon",""],["header","Confirmation"],["icon","fa fa-question-circle"],["rejectButtonStyleClass","unSavedRejClass"],["rejectIcon",""],["width","400"]],null,null,null,T.b,T.a)),t["\u0275did"](22,180224,null,1,x.ConfirmDialog,[t.ElementRef,t.Renderer2,O.ConfirmationService,t.NgZone],{header:[0,"header"],icon:[1,"icon"],acceptIcon:[2,"acceptIcon"],rejectIcon:[3,"rejectIcon"],acceptButtonStyleClass:[4,"acceptButtonStyleClass"],rejectButtonStyleClass:[5,"rejectButtonStyleClass"],closable:[6,"closable"],width:[7,"width"]},null),t["\u0275qud"](603979776,2,{footer:0}),(l()(),t["\u0275eld"](24,0,null,null,12,"roots-dialog",[["header","Delete Confirmation"]],null,[[null,"visibleChange"]],(function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.deleteConfirm=e)&&t),t}),d.b,d.a)),t["\u0275did"](25,180224,null,2,c.Dialog,[t.ElementRef,t.Renderer2,t.NgZone],{visible:[0,"visible"],header:[1,"header"],modal:[2,"modal"],responsive:[3,"responsive"],style:[4,"style"],baseZIndex:[5,"baseZIndex"]},{visibleChange:"visibleChange"}),t["\u0275qud"](603979776,3,{headerFacet:1}),t["\u0275qud"](603979776,4,{footerFacet:1}),t["\u0275pod"](28,{width:0,minWidth:1}),(l()(),t["\u0275eld"](29,0,null,1,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Do you want to delete?"])),(l()(),t["\u0275eld"](31,0,null,2,5,"roots-footer",[],null,null,null,p.c,p.a)),t["\u0275did"](32,49152,[[4,4]],0,m.Footer,[],null,null),(l()(),t["\u0275eld"](33,0,null,0,1,"button",[["class","btn-secondary"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteDatabase("No")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Cancel"])),(l()(),t["\u0275eld"](35,0,null,0,1,"button",[["class","btn-primary"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteDatabase("Ok")&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Ok"]))],(function(l,n){var e=n.component;l(n,4,0,!e.isFormReadOnly()),l(n,10,0,"name","row",e.dataBases,e.selectedDataBases),l(n,13,0,"header"),l(n,15,0,"body"),l(n,17,0,0==e.dataBases.length),l(n,20,0,!e.isFormReadOnly()),l(n,22,0,"Confirmation","fa fa-question-circle","","","unSavedAcceptClass","unSavedRejClass",!1,"400");var t=e.deleteConfirm,i=l(n,28,0,"300px","300px");l(n,25,0,t,"Delete Confirmation",!0,!0,i,1e4)}),null)}function ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-database",[],null,null,null,pl,nl)),t["\u0275did"](1,376832,null,0,ll,[h.FormBuilder,b.a,o.Router,o.ActivatedRoute,C.MessageService,B.a,w.b],null,null)],(function(l,n){l(n,1,0)}),null)}var hl=t["\u0275ccf"]("app-database",ll,ml,{},{},[]),gl=e("Q3qo"),vl=e("iFPC"),fl=e("IheW"),bl=e("sXtk"),Cl=e("clTN");class yl extends P.a{constructor(l,n,e,t,i){super(e),this.route=l,this.router=n,this.commonService=e,this.messageService=t,this.buService=i,this.userActiveTab=!1,this.usersList=[],this.pickListDisabled=!1,this.deletedUsersList=[],this.list1=[],this.list2=[],this.orgType="RE",this.isEdit=!0,this.route.data.subscribe(l=>{this.bankDetail=l.bankDetail}),this.readFileName=this.bankDetail.id,this.showAssignedUserList=!0,this.loadUserPrivilege("RE"),this.loadAssignedDataforGrid(),this.loadUnAssignedDataforGrid()}ngOnInit(){this.localLoadUserPrivilege("MANAGE_NONRBI_USERS")}loadUnAssignedDataforGrid(){this.bankDetail.id&&this.commonService.searchUser("businessUnitId="+this.bankDetail.id).subscribe(l=>{console.log(l),this.list2=l.pagedResponse.content},l=>{console.log(l)})}createBankUSer(){this.commonService.navigateBy("/home/admin/create-user/"+this.bankDetail.id)}loadAssignedDataforGrid(){this.bankDetail.id&&this.commonService.searchUser("businessUnitId=ne:"+this.bankDetail.id).subscribe(l=>{console.log(l),this.list1=l.pagedResponse.content},l=>{console.log(l)})}addAssignedUsers(l,n){this.usersList=[],l&&l.items.forEach(l=>{this.usersList.push({userId:l.userId})}),console.log(this.usersList),this.buService.assignUsersForBusinessUnit(this.bankDetail.id,this.usersList,n).subscribe(l=>{this.messageService.clear(),this.messageService.add({severity:"success",sticky:!0,summary:"Success Message",detail:"Assigned users  successfully"}),this.loadUnAssignedDataforGrid(),console.log(l)},l=>{this.messageService.clear(),this.messageService.add({severity:"Error",sticky:!0,summary:"Error Message",detail:"Unable to Assigned users to businessUnit: "+l.erro.message})})}removeAssignedUsers(l,n){this.deletedUsersList=[],l.items.forEach(l=>{this.deletedUsersList.push({userId:l.userId})}),console.log(this.usersList),this.buService.removeUsersToBusinessUnit(this.bankDetail.id,this.deletedUsersList,n).subscribe(l=>{this.messageService.clear(),this.messageService.add({severity:"success",sticky:!0,summary:"Success Message",detail:"Assigned users  successfully"}),this.loadAssignedDataforGrid(),console.log(l)},l=>{this.messageService.clear(),this.messageService.add({severity:"Error",sticky:!0,summary:"Error Message",detail:"Unable to unAssigned users to businessUnit: "+l.erro.message})})}showAllusers(){this.allusers=!0}closeAllusers(){this.allusers=!1}checkForEdit(l){return!("Approved"!==l||!this.checkModuleAccess("Update"))}isFormReadOnly(){return this.bankDetail.id&&this.checkForEdit(this.bankDetail.approvalStatus)?(this.pickListDisabled=!1,!0):(this.pickListDisabled=!0,!1)}localCheckModuleAccess(l){var n=!1;return this.localUserPrivilege||(n=!1),this.localUserPrivilege&&this.localUserPrivilege.forEach(e=>{e.availablePermissionName==l&&null!=e.permissionId&&(n=!0)}),n}localLoadUserPrivilege(l){return this.commonService.getUserPrivilege({moduleCode:l}).subscribe(l=>{if(l&&!0===l.success){this.localUserPrivilege=l.data||[];const n=this.localCheckModuleAccess("Execute");return this.createButton=!!n,!0}},l=>(console.log("Error",l),!1)),!0}}var Sl=t["\u0275crt"]({encapsulation:0,styles:[[".assign-btn[_ngcontent-%COMP%]{display:grid}.slct-icon[_ngcontent-%COMP%]{position:relative;left:75px}.multi-color[_ngcontent-%COMP%]{margin:auto;text-align:-webkit-center}.addRemoveBtn[_ngcontent-%COMP%]{width:75%;height:35px;font-size:17px}  .btn:hover{color:#fff;background-color:#205db1}  .piclistMenu .ui-picklist-listwrapper{width:42%!important}"]],data:{}});function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","form-inline btn btn-primary  float-right m-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.closeAllusers()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,[" Close"]))],null,null)}function Il(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-md-12 text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"button",[["class","form-inline btn btn-primary  float-right m-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.createBankUSer()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,[" Create User"]))],null,null)}function Rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","container-fluid row mr-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","col-sm-12 col-md-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,9,"roots-tabPanel",[["header","Members"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","col-md-7 text-right"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,kl)),t["\u0275did"](5,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","row mt-2"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Il)),t["\u0275did"](8,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"app-role-assigned-user-shared",[],null,null,null,gl.b,gl.a)),t["\u0275did"](11,114688,null,0,vl.a,[h.FormBuilder,fl.HttpClient,b.a,bl.a,C.MessageService,o.Router,Cl.a],{businessUnitId:[0,"businessUnitId"],orgType:[1,"orgType"]},null)],(function(l,n){var e=n.component;l(n,5,0,e.allusers),l(n,8,0,e.isFormReadOnly()&&e.createButton),l(n,11,0,e.readFileName,e.orgType)}),null)}function Fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-bank-members",[],null,null,null,Rl,Sl)),t["\u0275did"](1,114688,null,0,yl,[o.ActivatedRoute,o.Router,b.a,C.MessageService,Cl.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Al=t["\u0275ccf"]("app-bank-members",yl,Fl,{},{},[]),El=e("6bhV"),_l=e("TSSN"),Dl=e("PCNd"),Ml=e("PIe9"),Nl=e("I6P1");class Tl{}var xl=e("IP0z"),Ol=e("/HVE"),Pl=e("hOhj"),Vl=e("TkMk"),Bl=e("t3af"),wl=e("T0fs"),Gl=e("KV6D"),Ul=e("TUoW"),Ll=e("egKt"),ql=e("WaHc"),jl=e("nHNr"),Kl=e("10Xd"),Zl=e("3Z9R"),$l=e("j+Xl"),Hl=e("sXJK"),zl=e("YPyU"),Xl=e("l3/d"),Wl=e("xawE"),Jl=e("HUDo"),Ql=e("5jEI"),Yl=e("/ree"),ln=e("u0+r"),nn=e("16Sw"),en=e("FZP3"),tn=e("qYHH"),un=e("e2uC");e.d(n,"BankModuleNgFactory",(function(){return an}));var an=t["\u0275cmf"](i,[],(function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,A,E.a,Y,hl,Al]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[t.LOCALE_ID,[2,a["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,h.FormBuilder,h.FormBuilder,[]),t["\u0275mpd"](4608,h["\u0275angular_packages_forms_forms_o"],h["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,El.c,El.c,[]),t["\u0275mpd"](5120,_l.f,Dl.a,[fl.HttpClient]),t["\u0275mpd"](4608,_l.c,_l.e,[]),t["\u0275mpd"](4608,_l.h,_l.d,[]),t["\u0275mpd"](4608,_l.b,_l.a,[]),t["\u0275mpd"](4608,_l.k,_l.k,[]),t["\u0275mpd"](4608,_l.j,_l.j,[_l.k,_l.f,_l.c,_l.h,_l.b,_l.l,_l.m]),t["\u0275mpd"](1073742336,a.CommonModule,a.CommonModule,[]),t["\u0275mpd"](1073742336,o.RouterModule,o.RouterModule,[[2,o["\u0275angular_packages_router_router_a"]],[2,o.Router]]),t["\u0275mpd"](1073742336,Tl,Tl,[]),t["\u0275mpd"](1073742336,h["\u0275angular_packages_forms_forms_d"],h["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,h.ReactiveFormsModule,h.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,m.SharedModule,m.SharedModule,[]),t["\u0275mpd"](1073742336,xl.a,xl.a,[]),t["\u0275mpd"](1073742336,Ol.b,Ol.b,[]),t["\u0275mpd"](1073742336,Pl.ScrollingModule,Pl.ScrollingModule,[]),t["\u0275mpd"](1073742336,Vl.TooltipModule,Vl.TooltipModule,[]),t["\u0275mpd"](1073742336,Bl.DropdownModule,Bl.DropdownModule,[]),t["\u0275mpd"](1073742336,wl.ButtonModule,wl.ButtonModule,[]),t["\u0275mpd"](1073742336,h.FormsModule,h.FormsModule,[]),t["\u0275mpd"](1073742336,Gl.PaginatorModule,Gl.PaginatorModule,[]),t["\u0275mpd"](1073742336,N.TableModule,N.TableModule,[]),t["\u0275mpd"](1073742336,Ul.BreadcrumbModule,Ul.BreadcrumbModule,[]),t["\u0275mpd"](1073742336,Ll.CheckboxModule,Ll.CheckboxModule,[]),t["\u0275mpd"](1073742336,c.DialogModule,c.DialogModule,[]),t["\u0275mpd"](1073742336,ql.PanelModule,ql.PanelModule,[]),t["\u0275mpd"](1073742336,jl.CalendarModule,jl.CalendarModule,[]),t["\u0275mpd"](1073742336,g.KeyFilterModule,g.KeyFilterModule,[]),t["\u0275mpd"](1073742336,Kl.AccordionModule,Kl.AccordionModule,[]),t["\u0275mpd"](1073742336,Zl.SplitButtonModule,Zl.SplitButtonModule,[]),t["\u0275mpd"](1073742336,$l.MultiSelectModule,$l.MultiSelectModule,[]),t["\u0275mpd"](1073742336,Hl.InputSwitchModule,Hl.InputSwitchModule,[]),t["\u0275mpd"](1073742336,x.ConfirmDialogModule,x.ConfirmDialogModule,[]),t["\u0275mpd"](1073742336,zl.ToggleButtonModule,zl.ToggleButtonModule,[]),t["\u0275mpd"](1073742336,Xl.RadioButtonModule,Xl.RadioButtonModule,[]),t["\u0275mpd"](1073742336,Wl.TreeTableModule,Wl.TreeTableModule,[]),t["\u0275mpd"](1073742336,Jl.TabMenuModule,Jl.TabMenuModule,[]),t["\u0275mpd"](1073742336,_l.g,_l.g,[]),t["\u0275mpd"](1073742336,El.b,El.b,[]),t["\u0275mpd"](1073742336,Dl.b,Dl.b,[]),t["\u0275mpd"](1073742336,Ql.InputTextModule,Ql.InputTextModule,[]),t["\u0275mpd"](1073742336,Yl.InputMaskModule,Yl.InputMaskModule,[]),t["\u0275mpd"](1073742336,ln.PickListModule,ln.PickListModule,[]),t["\u0275mpd"](1073742336,nn.SidebarModule,nn.SidebarModule,[]),t["\u0275mpd"](1073742336,en.FieldsetModule,en.FieldsetModule,[]),t["\u0275mpd"](1073742336,tn.ScrollPanelModule,tn.ScrollPanelModule,[]),t["\u0275mpd"](1073742336,v.InputTextareaModule,v.InputTextareaModule,[]),t["\u0275mpd"](1073742336,un.TreeModule,un.TreeModule,[]),t["\u0275mpd"](1073742336,i,i,[]),t["\u0275mpd"](1024,o.ROUTES,(function(){return[[{path:"",component:f,children:[{path:"",redirectTo:"bankinfo",pathMatch:"full"},{path:"bankinfo",component:Nl.a,canDeactivate:[Ml.a]},{path:"applications",component:V,canDeactivate:[Ml.a]},{path:"databases",component:ll,canDeactivate:[Ml.a]},{path:"members",component:yl}]}]]}),[]),t["\u0275mpd"](256,_l.m,void 0,[]),t["\u0275mpd"](256,_l.l,void 0,[])])}))}}]);