(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"8jwQ":function(e,t,n){"use strict";var l=n("8Y7J"),i=n("gpq3"),s=n("moEV"),a=n("s7LF"),r=n("jtlh"),o=n("j+Xl"),u=n("SVse");n("V9lG"),n("OlR4"),n("QmtP"),n("l8AK"),n("iInd"),n("IheW"),n("sXtk"),n("eI1S"),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return g}));var c=l["\u0275crt"]({encapsulation:0,styles:[[".h-400[_ngcontent-%COMP%]{height:349px}"]],data:{}});function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","seType"]],null,null,null,i.b,i.a)),l["\u0275did"](1,114688,null,0,s.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.validationService.getFormControlValidationErrors(n.seForm,n.formKeyLabels),"seType")}),null)}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","seCategory"]],null,null,null,i.b,i.a)),l["\u0275did"](1,114688,null,0,s.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.validationService.getFormControlValidationErrors(n.seForm,n.formKeyLabels),"seCategory")}),null)}function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-form-validation-msg",[["labelName","seEntity"]],null,null,null,i.b,i.a)),l["\u0275did"](1,114688,null,0,s.a,[],{msgs:[0,"msgs"],labelName:[1,"labelName"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.validationService.getFormControlValidationErrors(n.seForm,n.formKeyLabels),"seEntity")}),null)}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,50,"form",[["autocomplete","off"],["class","pt-4 h-400"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l["\u0275nov"](e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==l["\u0275nov"](e,2).onReset()&&i),i}),null,null)),l["\u0275did"](1,16384,null,0,a["\u0275angular_packages_forms_forms_z"],[],null,null),l["\u0275did"](2,540672,null,0,a.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.FormGroupDirective]),l["\u0275did"](4,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(e()(),l["\u0275eld"](5,0,null,null,45,"div",[["class","row justify-content-start"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,14,"div",[["class","col-md-6 col-xl-6 mb-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,13,"div",[["class","form-group mb-0"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,1,"label",[["class","labelStyle required"],["for","compSrc"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["SE Type"])),(e()(),l["\u0275eld"](10,0,null,null,8,"roots-multiSelect",[["formControlName","seType"],["maxSelectedLabels","2"],["optionLabel","name"],["placeholder","Select"],["resetFilterOnHide","false"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onPanelHide"]],(function(e,t,n){var l=!0;return"onPanelHide"===t&&(l=!1!==e.component.getSeCategoryBySeTypeData(n)&&l),l}),r.b,r.a)),l["\u0275did"](11,13877248,null,3,o.MultiSelect,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef],{maxSelectedLabels:[0,"maxSelectedLabels"],resetFilterOnHide:[1,"resetFilterOnHide"],optionLabel:[2,"optionLabel"],options:[3,"options"]},{onPanelHide:"onPanelHide"}),l["\u0275qud"](603979776,1,{footerFacet:0}),l["\u0275qud"](603979776,2,{headerFacet:0}),l["\u0275qud"](603979776,3,{templates:1}),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(e){return[e]}),[o.MultiSelect]),l["\u0275did"](16,671744,null,0,a.FormControlName,[[3,a.ControlContainer],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR],[2,a["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,a.NgControl,null,[a.FormControlName]),l["\u0275did"](18,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,d)),l["\u0275did"](20,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](21,0,null,null,14,"div",[["class","col-md-6 col-xl-6 mb-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](22,0,null,null,13,"div",[["class","form-group mb-0"]],null,null,null,null,null)),(e()(),l["\u0275eld"](23,0,null,null,1,"label",[["class","labelStyle required"],["for","compSrc"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["SE Category"])),(e()(),l["\u0275eld"](25,0,null,null,8,"roots-multiSelect",[["formControlName","seCategory"],["maxSelectedLabels","2"],["optionLabel","name"],["placeholder","Select"],["resetFilterOnHide","false"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onPanelHide"]],(function(e,t,n){var l=!0;return"onPanelHide"===t&&(l=!1!==e.component.getSeDataByCategory(n)&&l),l}),r.b,r.a)),l["\u0275did"](26,13877248,null,3,o.MultiSelect,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef],{maxSelectedLabels:[0,"maxSelectedLabels"],resetFilterOnHide:[1,"resetFilterOnHide"],optionLabel:[2,"optionLabel"],options:[3,"options"]},{onPanelHide:"onPanelHide"}),l["\u0275qud"](603979776,4,{footerFacet:0}),l["\u0275qud"](603979776,5,{headerFacet:0}),l["\u0275qud"](603979776,6,{templates:1}),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(e){return[e]}),[o.MultiSelect]),l["\u0275did"](31,671744,null,0,a.FormControlName,[[3,a.ControlContainer],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR],[2,a["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,a.NgControl,null,[a.FormControlName]),l["\u0275did"](33,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](35,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](36,0,null,null,14,"div",[["class","col-md-6 col-xl-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](37,0,null,null,13,"div",[["class","form-group mb-0"]],null,null,null,null,null)),(e()(),l["\u0275eld"](38,0,null,null,1,"label",[["class","labelStyle required"],["for","compSrc"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["SE Names"])),(e()(),l["\u0275eld"](40,0,null,null,8,"roots-multiSelect",[["formControlName","seEntity"],["maxSelectedLabels","2"],["optionLabel","name"],["placeholder","Select"],["resetFilterOnHide","false"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,r.b,r.a)),l["\u0275did"](41,13877248,null,3,o.MultiSelect,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef],{maxSelectedLabels:[0,"maxSelectedLabels"],resetFilterOnHide:[1,"resetFilterOnHide"],optionLabel:[2,"optionLabel"],options:[3,"options"]},null),l["\u0275qud"](603979776,7,{footerFacet:0}),l["\u0275qud"](603979776,8,{headerFacet:0}),l["\u0275qud"](603979776,9,{templates:1}),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(e){return[e]}),[o.MultiSelect]),l["\u0275did"](46,671744,null,0,a.FormControlName,[[3,a.ControlContainer],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR],[2,a["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,a.NgControl,null,[a.FormControlName]),l["\u0275did"](48,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](50,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](51,0,null,null,6,"div",[["class","text-right pb-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](52,0,null,null,1,"button",[["class","btn btn-secondry"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDailouge()&&l),l}),null,null)),(e()(),l["\u0275ted"](-1,null,["Cancel"])),(e()(),l["\u0275eld"](54,0,null,null,1,"button",[["class","btn-secondary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.resetFilter(n)&&l),l}),null,null)),(e()(),l["\u0275ted"](-1,null,["Reset"])),(e()(),l["\u0275eld"](56,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.applyDailogeFn()&&l),l}),null,null)),(e()(),l["\u0275ted"](-1,null,["Apply"]))],(function(e,t){var n=t.component;e(t,2,0,n.seForm),e(t,11,0,"2","false","name",n.seTypeOption),e(t,16,0,"seType"),e(t,20,0,n.validationService.checkFieldTouched(n.seForm,"seType")),e(t,26,0,"2","false","name",n.seCategooryOption),e(t,31,0,"seCategory"),e(t,35,0,n.validationService.checkFieldTouched(n.seForm,"seCategory")),e(t,41,0,"2","false","name",n.seEntityOption),e(t,46,0,"seEntity"),e(t,50,0,n.validationService.checkFieldTouched(n.seForm,"seEntity"))}),(function(e,t){e(t,0,0,l["\u0275nov"](t,4).ngClassUntouched,l["\u0275nov"](t,4).ngClassTouched,l["\u0275nov"](t,4).ngClassPristine,l["\u0275nov"](t,4).ngClassDirty,l["\u0275nov"](t,4).ngClassValid,l["\u0275nov"](t,4).ngClassInvalid,l["\u0275nov"](t,4).ngClassPending),e(t,10,0,l["\u0275nov"](t,11).filled,l["\u0275nov"](t,11).focus,l["\u0275nov"](t,18).ngClassUntouched,l["\u0275nov"](t,18).ngClassTouched,l["\u0275nov"](t,18).ngClassPristine,l["\u0275nov"](t,18).ngClassDirty,l["\u0275nov"](t,18).ngClassValid,l["\u0275nov"](t,18).ngClassInvalid,l["\u0275nov"](t,18).ngClassPending),e(t,25,0,l["\u0275nov"](t,26).filled,l["\u0275nov"](t,26).focus,l["\u0275nov"](t,33).ngClassUntouched,l["\u0275nov"](t,33).ngClassTouched,l["\u0275nov"](t,33).ngClassPristine,l["\u0275nov"](t,33).ngClassDirty,l["\u0275nov"](t,33).ngClassValid,l["\u0275nov"](t,33).ngClassInvalid,l["\u0275nov"](t,33).ngClassPending),e(t,40,0,l["\u0275nov"](t,41).filled,l["\u0275nov"](t,41).focus,l["\u0275nov"](t,48).ngClassUntouched,l["\u0275nov"](t,48).ngClassTouched,l["\u0275nov"](t,48).ngClassPristine,l["\u0275nov"](t,48).ngClassDirty,l["\u0275nov"](t,48).ngClassValid,l["\u0275nov"](t,48).ngClassInvalid,l["\u0275nov"](t,48).ngClassPending)}))}},V9lG:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var l=n("8Y7J"),i=n("s7LF"),s=n("ra3Q");n("QmtP");class a extends s.a{constructor(e,t,n,i,s,a,r,o){super(t,a),this.fb=e,this.commonService=t,this.validationService=n,this.messageService=i,this.router=s,this.http=a,this.env=r,this.incidentCommonService=o,this.sendFilterList=new l.EventEmitter,this.closeEvent=new l.EventEmitter,this.seTypeOption=[],this.seCategooryOption=[],this.seEntityOption=[],this.formKeyLabels=[{label:"seType",name:"SE Type",verb:"is",key:"seType"},{label:"seCategory",name:"SE Category",verb:"is",key:"seCategory"},{label:"seEntity",name:"SE Names",verb:"is",key:"seEntity"}]}ngOnInit(){this.createSeForm(),this.getSeTypeData()}createSeForm(){this.seForm=this.fb.group({seType:new i.FormControl("",[i.Validators.required]),seCategory:new i.FormControl("",[i.Validators.required]),seEntity:new i.FormControl("",[i.Validators.required])})}resetFilter(e){this.createSeForm()}getSeTypeData(){this.incidentCommonService.getSeTypeData().subscribe(e=>{this.seTypeOption=e,this.seCategooryOption=[],this.seEntityOption=[]},e=>!1)}getSeCategoryBySeTypeData(e){if(this.seForm.value.seType){var t=[];for(let e=0;e<this.seForm.value.seType.length;e++)t.push(this.seForm.value.seType[e].id);this.incidentCommonService.getSeCategoryBySeTypeData(t).subscribe(e=>{this.seCategooryOption=e,this.seEntityOption=[]},e=>!1)}}getSeDataByCategory(e){if(this.seForm.value.seCategory){var t=[];for(let e=0;e<this.seForm.value.seCategory.length;e++)t.push(this.seForm.value.seCategory[e].id);this.incidentCommonService.getSeDataByCategory(t).subscribe(e=>{this.seEntityOption=e},e=>!1)}}applyDailogeFn(){if(this.seForm.valid){var e=[];if(this.seForm.value.seEntity)for(let t=0;t<this.seForm.value.seEntity.length;t++)e.push(this.seForm.value.seEntity[t].id);this.sendFilterList.emit(e)}else this.messageService.clear(),this.validationService.markFormGroupTouched(this.seForm),this.validationService.scrollIfFormHasErrors(this.seForm)}closeDailouge(){this.seForm.reset(),this.closeEvent.emit(!0)}}},eI1S:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n("XNiG"),i=n("eIep"),s=n("8Y7J"),a=n("iInd"),r=n("IheW"),o=n("sXtk"),u=n("OlR4");let c=(()=>{class e{constructor(e,t,n,i){this.router=e,this.http=t,this.env=n,this.commonService=i,this.subject=new l.a,this.minDate=(new Date).getFullYear()-99,this.maxDate=(new Date).getFullYear()+101,this.yearRange=this.minDate+":"+this.maxDate,this.securityApiUrl=n.securityApiBaseUrl,this.incidentBaseUrl=n.incidentUrl}getSystemInfraEffectedData(){return this.http.get(this.incidentBaseUrl+"/api/setup/systemsaffected")}getIncidentLocations(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentlocation")}getIncidentdetectedData(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentdetected")}saveOrUpdateIncident(e,t){let n="";return"NEW_DRAFT"==t||"DRAFT"==t?n="saveincident":"NEW_PENDING_FOR_APPROVAL"!=t&&"PENDING_FOR_APPROVAL"!=t||(n="submitincident"),this.http.post(this.incidentBaseUrl+"/api/incidents/"+n,e)}csiteMakerUpdateIncident(e,t){let n="";return n="NEW_DRAFT_BY_CSITE"==t?"savecsiteincident":"submitcsiteincident",this.http.post(this.incidentBaseUrl+"/api/incidents/csitemaker/"+n,e)}saveIncidentFile(e,t){return this.http.post(this.incidentBaseUrl+"/api/incidents/uploadFiles"+e,t)}getIncidentStatusList(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentstatus")}getIncidentTypesList(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentType")}getIncidentReportTypesList(){return this.http.get(this.incidentBaseUrl+"/api/setup/reportTypes")}getThreatVectotrList(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentThreadvector")}getSeTypeData(){return this.http.get(this.incidentBaseUrl+"/api/setup/regulatedEntityType")}getSeCategoryBySeTypeData(e){return this.http.get(this.incidentBaseUrl+"/api/setup/regulatedEntityCategoryByType?reTypeIds="+e)}getSeDataByCategory(e){return this.http.get(this.incidentBaseUrl+"/api/setup/regulatedEntityOptions?categoryTypeIds="+e)}getBroadVulnerabilityList(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentBroadvulnerability")}getIncidentAssesmentTypesList(){return this.http.get(this.incidentBaseUrl+"/api/setup/incidentAssessmentType")}saveOrUpdateCsiteIncident(e){return this.http.post(this.incidentBaseUrl+"/api/incidents/csitemaker/updateIncident",e)}getCsiteBankSummeryData(e){return this.http.get(this.incidentBaseUrl+"/api/incidents/incident/"+e)}fetchIncidentDetails(e){return this.commonService.getEncryptValue(e).pipe(Object(i.a)(e=>this.http.get(this.incidentBaseUrl+"/api/incidents/incident/"+e)))}saveComments(e){return this.http.post(this.incidentBaseUrl+"/api/incidents/csitemaker/invalidIncident",e)}updateIncidentStatus(e){return this.http.put(this.incidentBaseUrl+"/api/incidents/approverejectincident",e)}submitFeedBack(e){return this.http.post(this.incidentBaseUrl+"/api/rebit/submitFeedBack",e)}downloadIncidentAttach(e,t){this.downloadFile(this.incidentBaseUrl+"/api/incidents/"+e,t)}downloadFile(e,t){fetch(e,{headers:{Authorization:sessionStorage.getItem("tokenType")+" "+sessionStorage.getItem("token")}}).then((function(e){return console.log(e),e.blob().then(e=>{if(console.log(e),"application/pdf"==e.type){const t=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(t);window.open(n)}else{var n=document.createElement("a");n.href=URL.createObjectURL(e),n.setAttribute("download",t),n.click()}})}))}getIncidentCanApprove(e){return this.commonService.getEncryptValue(e).pipe(Object(i.a)(e=>this.http.get(this.incidentBaseUrl+"/api/my-workqueue/canApprove?incidentId="+e)))}getIncidentModifiedFields(e){return this.commonService.getEncryptValue(e).pipe(Object(i.a)(e=>this.http.get(this.incidentBaseUrl+"/api/incidents/csitemaker/displayModifiedfield/"+e)))}searchIncidentData(e){var t=this.commonService.constructQueryParams(e);return console.log(t),this.http.get(this.incidentBaseUrl+"/api/search?"+t)}getStatusVsSeverity(e){var t=this.constructQueryParams(e);return this.http.get(this.incidentBaseUrl+"/api/incidentGraph/statusVsSeverity?"+t)}getIncidentTypeVsIncidentCount(e){var t=this.constructQueryParams(e);return this.http.get(this.incidentBaseUrl+"/api/incidentGraph/incidentTypeVsIncidentCount?"+t)}getThreatVectorCategoryVsIncidentCount(e){var t=this.constructQueryParams(e);return this.http.get(this.incidentBaseUrl+"/api/incidentGraph/threatVectorCategoryVsIncidentCount?"+t)}getStatusofIncidentSeVsSeverity(e){var t=this.constructQueryParams(e);return this.http.get(this.incidentBaseUrl+"/api/incidentGraph/statusofIncidentSeVsSeverity?"+t)}getClarificationsStatusVsIncidentcount(){return this.http.get(this.incidentBaseUrl+"/api/incidentGraph/clarificationsStatusVsIncidentcount")}constructQueryParams(e){console.log(e);var t=Object.keys(e).map(t=>t+"="+(null==e[t]?"":e[t])).join("&");return console.log(t),t}generateReport(e){var t=this.constructQueryParams(e);this.printReport(this.incidentBaseUrl+"/api/setup/searchReport/charts?"+t,"chart.pdf")}download(e,t){fetch(e,{headers:{Authorization:sessionStorage.getItem("tokenType")+" "+sessionStorage.getItem("token")}}).then((function(e){return e.blob().then(e=>{if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob("download",t);else{const n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.setAttribute("download",t),n.click()}})}))}printReport(e,t){fetch(e,{headers:{Authorization:sessionStorage.getItem("tokenType")+" "+sessionStorage.getItem("token")}}).then((function(e){return e.blob().then(e=>{if("application/pdf"==e.type){const n=new Blob([e],{type:"application/pdf"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,t);else{const e=window.URL.createObjectURL(n);window.open(e)}}else if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob("download",t);else{const n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.setAttribute("download",t),n.click()}})}))}}return e.ngInjectableDef=s["\u0275\u0275defineInjectable"]({factory:function(){return new e(s["\u0275\u0275inject"](a.Router),s["\u0275\u0275inject"](r.HttpClient),s["\u0275\u0275inject"](o.a),s["\u0275\u0275inject"](u.a))},token:e,providedIn:"root"}),e})()},sa4S:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var l=n("8Y7J");class i{constructor(e){this.el=e,this.spiedTags=[],this.sectionChange=new l.EventEmitter}onScroll(e){let t;const n=this.el.nativeElement.children,l=e.target.scrollTop,i=e.target.offsetTop;for(let s=0;s<n.length;s++){const e=n[s];this.spiedTags.some(t=>t===e.tagName)&&e.offsetTop-i<=l&&(t=e.id)}t!==this.currentSection&&(this.currentSection=t,this.sectionChange.emit(this.currentSection))}}}}]);